(window.webpackJsonp=window.webpackJsonp||[]).push([[279],{790:function(t,a,s){"use strict";s.r(a);var v=s(2),_=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_2-ä¸‡å­—é•¿æ–‡åŒ…æ•™åŒ…ä¼š-jvm-å†…å­˜ç»“æ„-ä¿å§†çº§å­¦ä¹ ç¬”è®°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸‡å­—é•¿æ–‡åŒ…æ•™åŒ…ä¼š-jvm-å†…å­˜ç»“æ„-ä¿å§†çº§å­¦ä¹ ç¬”è®°"}},[t._v("#")]),t._v(" 2 ä¸‡å­—é•¿æ–‡åŒ…æ•™åŒ…ä¼š JVM å†…å­˜ç»“æ„   ä¿å§†çº§å­¦ä¹ ç¬”è®°")]),t._v(" "),s("blockquote",[s("p",[t._v("JVM  â‰  Japanese Video's Man")]),t._v(" "),s("p",[t._v("å†™è¿™ç¯‡çš„ä¸»è¦åŸå› å‘¢ï¼Œå°±æ˜¯ä¸ºäº†èƒ½åœ¨ç®€å†ä¸Šå†™ä¸ªâ€œç†Ÿæ‚‰JVMåº•å±‚ç»“æ„â€ï¼Œå¦ä¸€ä¸ªåŸå› å°±æ˜¯èƒ½è®©è¯»æˆ‘æ–‡ç« çš„å¤§å®¶ä¹Ÿå†™ä¸Šè¿™å¥è¯ï¼ŒçœŸæ˜¯ä¸ªåŠ©äººä¸ºä¹çš„å¸…å°ä¼™ã€‚ã€‚ã€‚ã€‚å—¯ï¼Œä¸å•å•åªæ˜¯é¢å‘é¢è¯•å­¦ä¹ å“ˆï¼Œæ›´é‡è¦çš„æ˜¯æ„å»ºè‡ªå·±çš„ JVM çŸ¥è¯†ä½“ç³»ï¼ŒJavaer ä»¬æŠ€æœ¯æ ˆè¦æœ‰å¹¿åº¦ï¼Œä½†æ˜¯ JVM çš„æŒæ¡å¿…é¡»æœ‰æ·±åº¦")]),t._v(" "),s("p",[t._v("ç‚¹èµ+æ”¶è— å°±å­¦ä¼šç³»åˆ—ï¼Œæ–‡ç« æ”¶å½•åœ¨ GitHub "),s("a",{attrs:{href:"https://github.com/Jstarfish/JavaKeeper",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaKeeper"),s("OutboundLink")],1),t._v(" ï¼ŒNçº¿äº’è”ç½‘å¼€å‘å¿…å¤‡æŠ€èƒ½å…µå™¨è°±ï¼Œç¬”è®°è‡ªå–")])]),t._v(" "),s("h2",{attrs:{id:"ç›´å‡»é¢è¯•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›´å‡»é¢è¯•"}},[t._v("#")]),t._v(" ç›´å‡»é¢è¯•")]),t._v(" "),s("p",[t._v("åæ­£æˆ‘æ˜¯å¸¦ç€è¿™äº›é—®é¢˜å¾€ä¸‹è¯»çš„")]),t._v(" "),s("ul",[s("li",[t._v("è¯´ä¸€ä¸‹ JVM è¿è¡Œæ—¶æ•°æ®åŒºå§ï¼Œéƒ½æœ‰å“ªäº›åŒºï¼Ÿåˆ†åˆ«æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ")]),t._v(" "),s("li",[t._v("Java 8 çš„å†…å­˜åˆ†ä»£æ”¹è¿›")]),t._v(" "),s("li",[t._v("ä¸¾ä¾‹æ ˆæº¢å‡ºçš„æƒ…å†µï¼Ÿ")]),t._v(" "),s("li",[t._v("è°ƒæ•´æ ˆå¤§å°ï¼Œå°±èƒ½ä¿å­˜ä¸å‡ºç°æº¢å‡ºå—ï¼Ÿ")]),t._v(" "),s("li",[t._v("åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½å—ï¼Ÿ")]),t._v(" "),s("li",[t._v("åƒåœ¾å›æ”¶æ˜¯å¦ä¼šæ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆï¼Ÿ")]),t._v(" "),s("li",[t._v("æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ")])]),t._v(" "),s("h1",{attrs:{id:"è¿è¡Œæ—¶æ•°æ®åŒº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ—¶æ•°æ®åŒº"}},[t._v("#")]),t._v(" è¿è¡Œæ—¶æ•°æ®åŒº")]),t._v(" "),s("p",[t._v("å†…å­˜æ˜¯éå¸¸é‡è¦çš„ç³»ç»Ÿèµ„æºï¼Œæ˜¯ç¡¬ç›˜å’Œ CPU çš„ä¸­é—´ä»“åº“åŠæ¡¥æ¢ï¼Œæ‰¿è½½ç€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„å®æ—¶è¿è¡Œã€‚JVM å†…å­˜å¸ƒå±€è§„å®šäº† Java åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å†…å­˜ç”³è¯·ã€åˆ†é…ã€ç®¡ç†çš„ç­–ç•¥ï¼Œä¿è¯äº† JVM çš„é«˜æ•ˆç¨³å®šè¿è¡Œã€‚ä¸åŒçš„ JVM å¯¹äºå†…å­˜çš„åˆ’åˆ†æ–¹å¼å’Œç®¡ç†æœºåˆ¶å­˜åœ¨ç€éƒ¨åˆ†å·®å¼‚ã€‚")]),t._v(" "),s("p",[t._v("ä¸‹å›¾æ˜¯ JVM æ•´ä½“æ¶æ„ï¼Œä¸­é—´éƒ¨åˆ†å°±æ˜¯ Java è™šæ‹Ÿæœºå®šä¹‰çš„å„ç§è¿è¡Œæ—¶æ•°æ®åŒºåŸŸã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.starfish.ink/jvm/jvm-framework.png",alt:"å›¾ç‰‡"}})]),t._v(" "),s("p",[t._v("Java è™šæ‹Ÿæœºå®šä¹‰äº†è‹¥å¹²ç§ç¨‹åºè¿è¡ŒæœŸé—´ä¼šä½¿ç”¨åˆ°çš„è¿è¡Œæ—¶æ•°æ®åŒºï¼Œå…¶ä¸­æœ‰ä¸€äº›ä¼šéšç€è™šæ‹Ÿæœºå¯åŠ¨è€Œåˆ›å»ºï¼Œéšç€è™šæ‹Ÿæœºé€€å‡ºè€Œé”€æ¯ã€‚å¦å¤–ä¸€äº›åˆ™æ˜¯ä¸çº¿ç¨‹ä¸€ä¸€å¯¹åº”çš„ï¼Œè¿™äº›ä¸çº¿ç¨‹ä¸€ä¸€å¯¹åº”çš„æ•°æ®åŒºåŸŸä¼šéšç€çº¿ç¨‹å¼€å§‹å’Œç»“æŸè€Œåˆ›å»ºå’Œé”€æ¯ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("çº¿ç¨‹ç§æœ‰ï¼šç¨‹åºè®¡æ•°å™¨ã€æ ˆã€æœ¬åœ°æ ˆ")]),t._v(" "),s("li",[t._v("çº¿ç¨‹å…±äº«ï¼šå †ã€å †å¤–å†…å­˜ï¼ˆæ°¸ä¹…ä»£æˆ–å…ƒç©ºé—´ã€ä»£ç ç¼“å­˜ï¼‰")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸‹é¢æˆ‘ä»¬å°±æ¥ä¸€ä¸€è§£æ¯’ä¸‹è¿™äº›å†…å­˜åŒºåŸŸï¼Œå…ˆä»æœ€ç®€å•çš„å…¥æ‰‹")])]),t._v(" "),s("h2",{attrs:{id:"ä¸€ã€ç¨‹åºè®¡æ•°å™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€ç¨‹åºè®¡æ•°å™¨"}},[t._v("#")]),t._v(" ä¸€ã€ç¨‹åºè®¡æ•°å™¨")]),t._v(" "),s("p",[t._v("ç¨‹åºè®¡æ•°å¯„å­˜å™¨ï¼ˆ"),s("strong",[t._v("Program Counter Register")]),t._v("ï¼‰ï¼ŒRegister çš„å‘½åæºäº CPU çš„å¯„å­˜å™¨ï¼Œå¯„å­˜å™¨å­˜å‚¨æŒ‡ä»¤ç›¸å…³çš„çº¿ç¨‹ä¿¡æ¯ï¼ŒCPU åªæœ‰æŠŠæ•°æ®è£…è½½åˆ°å¯„å­˜å™¨æ‰èƒ½å¤Ÿè¿è¡Œã€‚")]),t._v(" "),s("p",[t._v("è¿™é‡Œï¼Œå¹¶éæ˜¯å¹¿ä¹‰ä¸Šæ‰€æŒ‡çš„ç‰©ç†å¯„å­˜å™¨ï¼Œå«ç¨‹åºè®¡æ•°å™¨ï¼ˆæˆ–PCè®¡æ•°å™¨æˆ–æŒ‡ä»¤è®¡æ•°å™¨ï¼‰ä¼šæ›´åŠ è´´åˆ‡ï¼Œå¹¶ä¸”ä¹Ÿä¸å®¹æ˜“å¼•èµ·ä¸€äº›ä¸å¿…è¦çš„è¯¯ä¼šã€‚"),s("strong",[t._v("JVM ä¸­çš„ PC å¯„å­˜å™¨æ˜¯å¯¹ç‰©ç† PC å¯„å­˜å™¨çš„ä¸€ç§æŠ½è±¡æ¨¡æ‹Ÿ")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„"),s("strong",[t._v("è¡Œå·æŒ‡ç¤ºå™¨")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_1-1-ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ä½œç”¨"}},[t._v("#")]),t._v(" 1.1 ä½œç”¨")]),t._v(" "),s("p",[t._v("PC å¯„å­˜å™¨ç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ã€‚ç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29SIHYJWZ8MdtTBic8VyW9UFMkjDGzibzr6MRxUxHemmXKQibWAO5eVq93A/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("p",[t._v("ï¼ˆåˆ†æï¼šè¿›å…¥classæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œ "),s("code",[t._v("javap -v xx.class")]),t._v(" åè§£æï¼ˆæˆ–è€…é€šè¿‡ IDEA æ’ä»¶ "),s("code",[t._v("Jclasslib")]),t._v(" ç›´æ¥æŸ¥çœ‹ï¼Œä¸Šå›¾ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰ç±»å¯¹åº”çš„CodeåŒºï¼ˆæ±‡ç¼–æŒ‡ä»¤ï¼‰ã€æœ¬åœ°å˜é‡è¡¨ã€å¼‚å¸¸è¡¨å’Œä»£ç è¡Œåç§»é‡æ˜ å°„è¡¨ã€å¸¸é‡æ± ç­‰ä¿¡æ¯ã€‚ï¼‰")]),t._v(" "),s("h3",{attrs:{id:"_1-2-æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-æ¦‚è¿°"}},[t._v("#")]),t._v(" 1.2 æ¦‚è¿°")]),t._v(" "),s("ul",[s("li",[t._v("å®ƒæ˜¯ä¸€å—å¾ˆå°çš„å†…å­˜ç©ºé—´ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ä¹Ÿæ˜¯è¿è¡Œé€Ÿåº¦æœ€å¿«çš„å­˜å‚¨åŒºåŸŸ")]),t._v(" "),s("li",[t._v("åœ¨ JVM è§„èŒƒä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å®ƒè‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´")]),t._v(" "),s("li",[t._v("ä»»ä½•æ—¶é—´ä¸€ä¸ªçº¿ç¨‹éƒ½åªæœ‰ä¸€ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„"),s("strong",[t._v("å½“å‰æ–¹æ³•")]),t._v("ã€‚å¦‚æœå½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ Java æ–¹æ³•ï¼Œç¨‹åºè®¡æ•°å™¨è®°å½•çš„æ˜¯ JVM å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Œå¦‚æœæ˜¯æ‰§è¡Œ natice æ–¹æ³•ï¼Œåˆ™æ˜¯æœªæŒ‡å®šå€¼ï¼ˆundefinedï¼‰")]),t._v(" "),s("li",[t._v("å®ƒæ˜¯ç¨‹åºæ§åˆ¶æµçš„æŒ‡ç¤ºå™¨ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆ")]),t._v(" "),s("li",[t._v("å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤")]),t._v(" "),s("li",[t._v("å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ JVM è§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½• "),s("code",[t._v("OutOfMemoryError")]),t._v(" æƒ…å†µçš„åŒºåŸŸ")])]),t._v(" "),s("blockquote",[s("p",[t._v("ğŸ‘¨â€ğŸ’»ï¼šä½¿ç”¨PCå¯„å­˜å™¨å­˜å‚¨å­—èŠ‚ç æŒ‡ä»¤åœ°å€æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨PCå¯„å­˜å™¨è®°å½•å½“å‰çº¿ç¨‹çš„æ‰§è¡Œåœ°å€å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("ğŸ™‹â€â™‚ï¸ï¼šå› ä¸ºCPUéœ€è¦ä¸åœçš„åˆ‡æ¢å„ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶å€™åˆ‡æ¢å›æ¥ä»¥åï¼Œå°±å¾—çŸ¥é“æ¥ç€ä»å“ªå¼€å§‹ç»§ç»­æ‰§è¡Œã€‚JVMçš„å­—èŠ‚ç è§£é‡Šå™¨å°±éœ€è¦é€šè¿‡æ”¹å˜PCå¯„å­˜å™¨çš„å€¼æ¥æ˜ç¡®ä¸‹ä¸€æ¡åº”è¯¥æ‰§è¡Œä»€ä¹ˆæ ·çš„å­—èŠ‚ç æŒ‡ä»¤ã€‚")])]),t._v(" "),s("blockquote",[s("p",[t._v("ğŸ‘¨â€ğŸ’»ï¼šPCå¯„å­˜å™¨ä¸ºä»€ä¹ˆä¼šè¢«è®¾å®šä¸ºçº¿ç¨‹ç§æœ‰çš„ï¼Ÿ")]),t._v(" "),s("p",[t._v("ğŸ™‹â€â™‚ï¸ï¼šå¤šçº¿ç¨‹åœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´æ®µå†…åªä¼šæ‰§è¡Œå…¶ä¸­æŸä¸€ä¸ªçº¿ç¨‹æ–¹æ³•ï¼ŒCPUä¼šä¸åœçš„åšä»»åŠ¡åˆ‡æ¢ï¼Œè¿™æ ·å¿…ç„¶ä¼šå¯¼è‡´ç»å¸¸ä¸­æ–­æˆ–æ¢å¤ã€‚ä¸ºäº†èƒ½å¤Ÿå‡†ç¡®çš„è®°å½•å„ä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„å½“å‰å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Œæ‰€ä»¥ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½åˆ†é…äº†ä¸€ä¸ªPCå¯„å­˜å™¨ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ç‹¬ç«‹è®¡ç®—ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"äºŒã€è™šæ‹Ÿæœºæ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€è™šæ‹Ÿæœºæ ˆ"}},[t._v("#")]),t._v(" äºŒã€è™šæ‹Ÿæœºæ ˆ")]),t._v(" "),s("h3",{attrs:{id:"_2-1-æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æ¦‚è¿°"}},[t._v("#")]),t._v(" 2.1 æ¦‚è¿°")]),t._v(" "),s("p",[t._v("Java è™šæ‹Ÿæœºæ ˆ(Java Virtual Machine Stacks)ï¼Œæ—©æœŸä¹Ÿå« Java æ ˆã€‚æ¯ä¸ªçº¿ç¨‹åœ¨åˆ›å»ºçš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ ˆï¼Œå…¶å†…éƒ¨ä¿å­˜ä¸€ä¸ªä¸ªçš„æ ˆå¸§(Stack Frameï¼‰ï¼Œå¯¹åº”ç€ä¸€æ¬¡æ¬¡ Java æ–¹æ³•è°ƒç”¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ä¸€è‡´ã€‚")]),t._v(" "),s("p",[t._v("ä½œç”¨ï¼šä¸»ç®¡ Java ç¨‹åºçš„è¿è¡Œï¼Œå®ƒä¿å­˜æ–¹æ³•çš„å±€éƒ¨å˜é‡ã€éƒ¨åˆ†ç»“æœï¼Œå¹¶å‚ä¸æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›ã€‚")]),t._v(" "),s("p",[t._v("ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ ˆæ˜¯ä¸€ç§å¿«é€Ÿæœ‰æ•ˆçš„åˆ†é…å­˜å‚¨æ–¹å¼ï¼Œè®¿é—®é€Ÿåº¦ä»…æ¬¡äºç¨‹åºè®¡æ•°å™¨")]),t._v(" "),s("li",[t._v("JVM ç›´æ¥å¯¹è™šæ‹Ÿæœºæ ˆçš„æ“ä½œåªæœ‰ä¸¤ä¸ªï¼šæ¯ä¸ªæ–¹æ³•æ‰§è¡Œï¼Œä¼´éšç€"),s("strong",[t._v("å…¥æ ˆ")]),t._v("ï¼ˆè¿›æ ˆ/å‹æ ˆï¼‰ï¼Œæ–¹æ³•æ‰§è¡Œç»“æŸ"),s("strong",[t._v("å‡ºæ ˆ")])]),t._v(" "),s("li",[t._v("æ ˆä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜")])]),t._v(" "),s("p",[t._v("æ ˆä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸ï¼š")]),t._v(" "),s("p",[t._v("Java è™šæ‹Ÿæœºè§„èŒƒå…è®¸ "),s("strong",[t._v("Javaè™šæ‹Ÿæœºæ ˆçš„å¤§å°æ˜¯åŠ¨æ€çš„æˆ–è€…æ˜¯å›ºå®šä¸å˜çš„")])]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœé‡‡ç”¨å›ºå®šå¤§å°çš„ Java è™šæ‹Ÿæœºæ ˆï¼Œé‚£æ¯ä¸ªçº¿ç¨‹çš„ Java è™šæ‹Ÿæœºæ ˆå®¹é‡å¯ä»¥åœ¨çº¿ç¨‹åˆ›å»ºçš„æ—¶å€™ç‹¬ç«‹é€‰å®šã€‚å¦‚æœçº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ ˆå®¹é‡è¶…è¿‡ Java è™šæ‹Ÿæœºæ ˆå…è®¸çš„æœ€å¤§å®¹é‡ï¼ŒJava è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª "),s("strong",[t._v("StackOverflowError")]),t._v(" å¼‚å¸¸")]),t._v(" "),s("li",[t._v("å¦‚æœ Java è™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œå¹¶ä¸”åœ¨å°è¯•æ‰©å±•çš„æ—¶å€™æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œæˆ–è€…åœ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„è™šæ‹Ÿæœºæ ˆï¼Œé‚£ Java è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª"),s("strong",[t._v("OutOfMemoryError")]),t._v("å¼‚å¸¸")])]),t._v(" "),s("p",[t._v("å¯ä»¥é€šè¿‡å‚æ•°"),s("code",[t._v("-Xss")]),t._v("æ¥è®¾ç½®çº¿ç¨‹çš„æœ€å¤§æ ˆç©ºé—´ï¼Œæ ˆçš„å¤§å°ç›´æ¥å†³å®šäº†å‡½æ•°è°ƒç”¨çš„æœ€å¤§å¯è¾¾æ·±åº¦ã€‚")]),t._v(" "),s("p",[t._v("å®˜æ–¹æä¾›çš„å‚è€ƒå·¥å…·ï¼Œå¯æŸ¥ä¸€äº›å‚æ•°å’Œæ“ä½œï¼šhttps://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BGBCIEFC")]),t._v(" "),s("h3",{attrs:{id:"_2-2-æ ˆçš„å­˜å‚¨å•ä½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-æ ˆçš„å­˜å‚¨å•ä½"}},[t._v("#")]),t._v(" 2.2 æ ˆçš„å­˜å‚¨å•ä½")]),t._v(" "),s("p",[t._v("æ ˆä¸­å­˜å‚¨ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ ˆï¼Œæ ˆä¸­çš„æ•°æ®éƒ½æ˜¯ä»¥"),s("strong",[t._v("æ ˆå¸§ï¼ˆStack Frameï¼‰çš„æ ¼å¼å­˜åœ¨")])]),t._v(" "),s("li",[t._v("åœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šæ­£åœ¨æ‰§è¡Œçš„æ¯ä¸ªæ–¹æ³•éƒ½å„è‡ªæœ‰å¯¹åº”çš„ä¸€ä¸ªæ ˆå¸§")]),t._v(" "),s("li",[t._v("æ ˆå¸§æ˜¯ä¸€ä¸ªå†…å­˜åŒºå—ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼Œç»´ç³»ç€æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å„ç§æ•°æ®ä¿¡æ¯")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-æ ˆè¿è¡ŒåŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-æ ˆè¿è¡ŒåŸç†"}},[t._v("#")]),t._v(" 2.3 æ ˆè¿è¡ŒåŸç†")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("JVM ç›´æ¥å¯¹ Java æ ˆçš„æ“ä½œåªæœ‰ä¸¤ä¸ªï¼Œå¯¹æ ˆå¸§çš„"),s("strong",[t._v("å‹æ ˆ")]),t._v("å’Œ"),s("strong",[t._v("å‡ºæ ˆ")]),t._v("ï¼Œéµå¾ªâ€œå…ˆè¿›åå‡º/åè¿›å…ˆå‡ºâ€åŸåˆ™")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨ä¸€æ¡æ´»åŠ¨çº¿ç¨‹ä¸­ï¼Œä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œåªä¼šæœ‰ä¸€ä¸ªæ´»åŠ¨çš„æ ˆå¸§ã€‚å³åªæœ‰å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•çš„æ ˆå¸§ï¼ˆ"),s("strong",[t._v("æ ˆé¡¶æ ˆå¸§")]),t._v("ï¼‰æ˜¯æœ‰æ•ˆçš„ï¼Œè¿™ä¸ªæ ˆå¸§è¢«ç§°ä¸º"),s("strong",[t._v("å½“å‰æ ˆå¸§")]),t._v("ï¼ˆCurrent Frameï¼‰ï¼Œä¸å½“å‰æ ˆå¸§å¯¹åº”çš„æ–¹æ³•å°±æ˜¯"),s("strong",[t._v("å½“å‰æ–¹æ³•")]),t._v("ï¼ˆCurrent Methodï¼‰ï¼Œå®šä¹‰è¿™ä¸ªæ–¹æ³•çš„ç±»å°±æ˜¯"),s("strong",[t._v("å½“å‰ç±»")]),t._v("ï¼ˆCurrent Classï¼‰")])]),t._v(" "),s("li",[s("p",[t._v("æ‰§è¡Œå¼•æ“è¿è¡Œçš„æ‰€æœ‰å­—èŠ‚ç æŒ‡ä»¤åªé’ˆå¯¹å½“å‰æ ˆå¸§è¿›è¡Œæ“ä½œ")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœåœ¨è¯¥æ–¹æ³•ä¸­è°ƒç”¨äº†å…¶ä»–æ–¹æ³•ï¼Œå¯¹åº”çš„æ–°çš„æ ˆå¸§ä¼šè¢«åˆ›å»ºå‡ºæ¥ï¼Œæ”¾åœ¨æ ˆçš„é¡¶ç«¯ï¼Œç§°ä¸ºæ–°çš„å½“å‰æ ˆå¸§")])]),t._v(" "),s("li",[s("p",[t._v("ä¸åŒçº¿ç¨‹ä¸­æ‰€åŒ…å«çš„æ ˆå¸§æ˜¯ä¸å…è®¸å­˜åœ¨ç›¸äº’å¼•ç”¨çš„ï¼Œå³ä¸å¯èƒ½åœ¨ä¸€ä¸ªæ ˆå¸§ä¸­å¼•ç”¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹çš„æ ˆå¸§")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœå½“å‰æ–¹æ³•è°ƒç”¨äº†å…¶ä»–æ–¹æ³•ï¼Œæ–¹æ³•è¿”å›ä¹‹é™…ï¼Œå½“å‰æ ˆå¸§ä¼šä¼ å›æ­¤æ–¹æ³•çš„æ‰§è¡Œç»“æœç»™å‰ä¸€ä¸ªæ ˆå¸§ï¼Œæ¥ç€ï¼Œè™šæ‹Ÿæœºä¼šä¸¢å¼ƒå½“å‰æ ˆå¸§ï¼Œä½¿å¾—å‰ä¸€ä¸ªæ ˆå¸§é‡æ–°æˆä¸ºå½“å‰æ ˆå¸§")])]),t._v(" "),s("li",[s("p",[t._v("Java æ–¹æ³•æœ‰ä¸¤ç§è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œ"),s("strong",[t._v("ä¸€ç§æ˜¯æ­£å¸¸çš„å‡½æ•°è¿”å›ï¼Œä½¿ç”¨ return æŒ‡ä»¤ï¼Œå¦ä¸€ç§æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ç®¡ç”¨å“ªç§æ–¹å¼ï¼Œéƒ½ä¼šå¯¼è‡´æ ˆå¸§è¢«å¼¹å‡º")])])])]),t._v(" "),s("p",[t._v("IDEA åœ¨ debug æ—¶å€™ï¼Œå¯ä»¥åœ¨ debug çª—å£çœ‹åˆ° Frames ä¸­å„ç§æ–¹æ³•çš„å‹æ ˆå’Œå‡ºæ ˆæƒ…å†µ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29a7Bfd0qAUR98Brib5UNvia4yDCsvETZeO8lZoW3NljxkTic1ibDvj6PcJw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("h3",{attrs:{id:"_2-4-æ ˆå¸§çš„å†…éƒ¨ç»“æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-æ ˆå¸§çš„å†…éƒ¨ç»“æ„"}},[t._v("#")]),t._v(" 2.4 æ ˆå¸§çš„å†…éƒ¨ç»“æ„")]),t._v(" "),s("p",[t._v("æ¯ä¸ª"),s("strong",[t._v("æ ˆå¸§")]),t._v("ï¼ˆStack Frameï¼‰ä¸­å­˜å‚¨ç€ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å±€éƒ¨å˜é‡è¡¨ï¼ˆLocal Variablesï¼‰")]),t._v(" "),s("li",[t._v("æ“ä½œæ•°æ ˆï¼ˆOperand Stackï¼‰(æˆ–ç§°ä¸ºè¡¨è¾¾å¼æ ˆ)")]),t._v(" "),s("li",[t._v("åŠ¨æ€é“¾æ¥ï¼ˆDynamic Linkingï¼‰ï¼šæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± çš„æ–¹æ³•å¼•ç”¨")]),t._v(" "),s("li",[t._v("æ–¹æ³•è¿”å›åœ°å€ï¼ˆReturn Addressï¼‰ï¼šæ–¹æ³•æ­£å¸¸é€€å‡ºæˆ–å¼‚å¸¸é€€å‡ºçš„åœ°å€")]),t._v(" "),s("li",[t._v("ä¸€äº›é™„åŠ ä¿¡æ¯")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29fMr12sicgr3HIgRFtFRY8IAcDvwP6orNRRIojrn3edcS3h2ibblgAgQg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("p",[t._v("ç»§ç»­æ·±æŠ›æ ˆå¸§ä¸­çš„äº”éƒ¨åˆ†~~")]),t._v(" "),s("h4",{attrs:{id:"_2-4-1-å±€éƒ¨å˜é‡è¡¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-å±€éƒ¨å˜é‡è¡¨"}},[t._v("#")]),t._v(" 2.4.1. å±€éƒ¨å˜é‡è¡¨")]),t._v(" "),s("ul",[s("li",[t._v("å±€éƒ¨å˜é‡è¡¨ä¹Ÿè¢«ç§°ä¸ºå±€éƒ¨å˜é‡æ•°ç»„æˆ–è€…æœ¬åœ°å˜é‡è¡¨")]),t._v(" "),s("li",[t._v("æ˜¯ä¸€ç»„å˜é‡å€¼å­˜å‚¨ç©ºé—´ï¼Œ"),s("strong",[t._v("ä¸»è¦ç”¨äºå­˜å‚¨æ–¹æ³•å‚æ•°å’Œå®šä¹‰åœ¨æ–¹æ³•ä½“å†…çš„å±€éƒ¨å˜é‡")]),t._v("ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨å¯çŸ¥çš„å„ç§ Java è™šæ‹Ÿæœº"),s("strong",[t._v("åŸºæœ¬æ•°æ®ç±»å‹")]),t._v("ï¼ˆbooleanã€byteã€charã€shortã€intã€floatã€longã€doubleï¼‰ã€"),s("strong",[t._v("å¯¹è±¡å¼•ç”¨")]),t._v("ï¼ˆreferenceç±»å‹ï¼Œå®ƒå¹¶ä¸ç­‰åŒäºå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–å…¶ä»–ä¸æ­¤ç›¸å…³çš„ä½ç½®ï¼‰å’Œ "),s("strong",[t._v("returnAddress")]),t._v(" ç±»å‹ï¼ˆæŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼Œå·²è¢«å¼‚å¸¸è¡¨å–ä»£ï¼‰")]),t._v(" "),s("li",[t._v("ç”±äºå±€éƒ¨å˜é‡è¡¨æ˜¯å»ºç«‹åœ¨çº¿ç¨‹çš„æ ˆä¸Šï¼Œæ˜¯çº¿ç¨‹çš„ç§æœ‰æ•°æ®ï¼Œå› æ­¤"),s("strong",[t._v("ä¸å­˜åœ¨æ•°æ®å®‰å…¨é—®é¢˜")])]),t._v(" "),s("li",[s("strong",[t._v("å±€éƒ¨å˜é‡è¡¨æ‰€éœ€è¦çš„å®¹é‡å¤§å°æ˜¯ç¼–è¯‘æœŸç¡®å®šä¸‹æ¥çš„")]),t._v("ï¼Œå¹¶ä¿å­˜åœ¨æ–¹æ³•çš„ Code å±æ€§çš„ "),s("code",[t._v("maximum local variables")]),t._v(" æ•°æ®é¡¹ä¸­ã€‚åœ¨æ–¹æ³•è¿è¡ŒæœŸé—´æ˜¯ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°çš„")]),t._v(" "),s("li",[t._v("æ–¹æ³•åµŒå¥—è°ƒç”¨çš„æ¬¡æ•°ç”±æ ˆçš„å¤§å°å†³å®šã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ"),s("strong",[t._v("æ ˆè¶Šå¤§ï¼Œæ–¹æ³•åµŒå¥—è°ƒç”¨æ¬¡æ•°è¶Šå¤š")]),t._v("ã€‚å¯¹ä¸€ä¸ªå‡½æ•°è€Œè¨€ï¼Œå®ƒçš„å‚æ•°å’Œå±€éƒ¨å˜é‡è¶Šå¤šï¼Œä½¿å¾—å±€éƒ¨å˜é‡è¡¨è†¨èƒ€ï¼Œå®ƒçš„æ ˆå¸§å°±è¶Šå¤§ï¼Œä»¥æ»¡è¶³æ–¹æ³•è°ƒç”¨æ‰€éœ€ä¼ é€’çš„ä¿¡æ¯å¢å¤§çš„éœ€æ±‚ã€‚è¿›è€Œå‡½æ•°è°ƒç”¨å°±ä¼šå ç”¨æ›´å¤šçš„æ ˆç©ºé—´ï¼Œå¯¼è‡´å…¶åµŒå¥—è°ƒç”¨æ¬¡æ•°å°±ä¼šå‡å°‘ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡åªåœ¨å½“å‰æ–¹æ³•è°ƒç”¨ä¸­æœ‰æ•ˆ")]),t._v("ã€‚åœ¨æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºé€šè¿‡ä½¿ç”¨å±€éƒ¨å˜é‡è¡¨å®Œæˆå‚æ•°å€¼åˆ°å‚æ•°å˜é‡åˆ—è¡¨çš„ä¼ é€’è¿‡ç¨‹ã€‚å½“æ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œéšç€æ–¹æ³•æ ˆå¸§çš„é”€æ¯ï¼Œå±€éƒ¨å˜é‡è¡¨ä¹Ÿä¼šéšä¹‹é”€æ¯ã€‚")]),t._v(" "),s("li",[t._v("å‚æ•°å€¼çš„å­˜æ”¾æ€»æ˜¯åœ¨å±€éƒ¨å˜é‡æ•°ç»„çš„ index0 å¼€å§‹ï¼Œåˆ°æ•°ç»„é•¿åº¦ -1 çš„ç´¢å¼•ç»“æŸ")])]),t._v(" "),s("h5",{attrs:{id:"æ§½-slot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ§½-slot"}},[t._v("#")]),t._v(" æ§½ Slot")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å±€éƒ¨å˜é‡è¡¨æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒæ˜¯ Slotï¼ˆå˜é‡æ§½ï¼‰")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­ï¼Œ32 ä½ä»¥å†…çš„ç±»å‹åªå ç”¨ä¸€ä¸ª Slot(åŒ…æ‹¬returnAddressç±»å‹)ï¼Œ64 ä½çš„ç±»å‹ï¼ˆlongå’Œdoubleï¼‰å ç”¨ä¸¤ä¸ªè¿ç»­çš„ Slot")]),t._v(" "),s("ul",[s("li",[t._v("byteã€shortã€char åœ¨å­˜å‚¨å‰è¢«è½¬æ¢ä¸º intï¼Œboolean ä¹Ÿè¢«è½¬æ¢ä¸º intï¼Œ0 è¡¨ç¤º falseï¼Œé 0 è¡¨ç¤º true")]),t._v(" "),s("li",[t._v("long å’Œ double åˆ™å æ®ä¸¤ä¸ª Slot")])])]),t._v(" "),s("li",[s("p",[t._v("JVM ä¼šä¸ºå±€éƒ¨å˜é‡è¡¨ä¸­çš„æ¯ä¸€ä¸ª Slot éƒ½åˆ†é…ä¸€ä¸ªè®¿é—®ç´¢å¼•ï¼Œé€šè¿‡è¿™ä¸ªç´¢å¼•å³å¯æˆåŠŸè®¿é—®åˆ°å±€éƒ¨å˜é‡è¡¨ä¸­æŒ‡å®šçš„å±€éƒ¨å˜é‡å€¼ï¼Œç´¢å¼•å€¼çš„èŒƒå›´ä» 0 å¼€å§‹åˆ°å±€éƒ¨å˜é‡è¡¨æœ€å¤§çš„ Slot æ•°é‡")])]),t._v(" "),s("li",[s("p",[t._v("å½“ä¸€ä¸ªå®ä¾‹æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒçš„æ–¹æ³•å‚æ•°å’Œæ–¹æ³•ä½“å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡å°†ä¼š"),s("strong",[t._v("æŒ‰ç…§é¡ºåºè¢«å¤åˆ¶")]),t._v("åˆ°å±€éƒ¨å˜é‡è¡¨ä¸­çš„æ¯ä¸€ä¸ª Slot ä¸Š")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("å¦‚æœéœ€è¦è®¿é—®å±€éƒ¨å˜é‡è¡¨ä¸­ä¸€ä¸ª 64bit çš„å±€éƒ¨å˜é‡å€¼æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªç´¢å¼•å³å¯")]),t._v("ã€‚ï¼ˆæ¯”å¦‚ï¼šè®¿é—® long æˆ– double ç±»å‹å˜é‡ï¼Œä¸å…è®¸é‡‡ç”¨ä»»ä½•æ–¹å¼å•ç‹¬è®¿é—®å…¶ä¸­çš„æŸä¸€ä¸ª Slotï¼‰")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœå½“å‰å¸§æ˜¯ç”±æ„é€ æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å¼•ç”¨ this å°†ä¼šå­˜æ”¾åœ¨ index ä¸º 0 çš„ Slot å¤„ï¼Œå…¶ä½™çš„å‚æ•°æŒ‰ç…§å‚æ•°è¡¨é¡ºåºç»§ç»­æ’åˆ—ï¼ˆè¿™é‡Œå°±å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼šé™æ€æ–¹æ³•ä¸­ä¸ºä»€ä¹ˆä¸å¯ä»¥å¼•ç”¨ thisï¼Œå°±æ˜¯å› ä¸º this å˜é‡ä¸å­˜åœ¨äºå½“å‰æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ä¸­ï¼‰")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨ä¸­çš„æ§½ä½æ˜¯å¯ä»¥é‡ç”¨çš„")]),t._v("ï¼Œå¦‚æœä¸€ä¸ªå±€éƒ¨å˜é‡è¿‡äº†å…¶ä½œç”¨åŸŸï¼Œé‚£ä¹ˆåœ¨å…¶ä½œç”¨åŸŸä¹‹åç”³æ˜çš„æ–°çš„å±€éƒ¨å˜é‡å°±å¾ˆæœ‰å¯èƒ½ä¼šå¤ç”¨è¿‡æœŸå±€éƒ¨å˜é‡çš„æ§½ä½ï¼Œä»è€Œ"),s("strong",[t._v("è¾¾åˆ°èŠ‚çœèµ„æºçš„ç›®çš„")]),t._v("ã€‚ï¼ˆä¸‹å›¾ä¸­ï¼Œthisã€aã€bã€c ç†è®ºä¸Šåº”è¯¥æœ‰ 4 ä¸ªå˜é‡ï¼Œc å¤ç”¨äº† b çš„æ§½ï¼‰")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29Jqp1Sop3BNUXFa3FiagNgVYjC9maNFtyltyrQVMQYrRe5wo7CFRTMUg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("ul",[s("li",[t._v("åœ¨æ ˆå¸§ä¸­ï¼Œä¸æ€§èƒ½è°ƒä¼˜å…³ç³»æœ€ä¸ºå¯†åˆ‡çš„å°±æ˜¯å±€éƒ¨å˜é‡è¡¨ã€‚åœ¨æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºä½¿ç”¨å±€éƒ¨å˜é‡è¡¨å®Œæˆæ–¹æ³•çš„ä¼ é€’")]),t._v(" "),s("li",[s("strong",[t._v("å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡ä¹Ÿæ˜¯é‡è¦çš„åƒåœ¾å›æ”¶æ ¹èŠ‚ç‚¹ï¼Œåªè¦è¢«å±€éƒ¨å˜é‡è¡¨ä¸­ç›´æ¥æˆ–é—´æ¥å¼•ç”¨çš„å¯¹è±¡éƒ½ä¸ä¼šè¢«å›æ”¶")])])]),t._v(" "),s("h4",{attrs:{id:"_2-4-2-æ“ä½œæ•°æ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-æ“ä½œæ•°æ ˆ"}},[t._v("#")]),t._v(" 2.4.2. æ“ä½œæ•°æ ˆ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ¯ä¸ªç‹¬ç«‹çš„æ ˆå¸§ä¸­é™¤äº†åŒ…å«å±€éƒ¨å˜é‡è¡¨ä¹‹å¤–ï¼Œè¿˜åŒ…å«ä¸€ä¸ª"),s("strong",[t._v("åè¿›å…ˆå‡º")]),t._v("ï¼ˆLast-In-First-Outï¼‰çš„æ“ä½œæ•°æ ˆï¼Œä¹Ÿå¯ä»¥ç§°ä¸º"),s("strong",[t._v("è¡¨è¾¾å¼æ ˆ")]),t._v("ï¼ˆExpression Stackï¼‰")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ“ä½œæ•°æ ˆï¼Œåœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®å­—èŠ‚ç æŒ‡ä»¤ï¼Œå¾€æ“ä½œæ•°æ ˆä¸­å†™å…¥æ•°æ®æˆ–æå–æ•°æ®ï¼Œå³å…¥æ ˆï¼ˆpushï¼‰ã€å‡ºæ ˆï¼ˆpopï¼‰")])])]),t._v(" "),s("li",[s("p",[t._v("æŸäº›å­—èŠ‚ç æŒ‡ä»¤å°†å€¼å‹å…¥æ“ä½œæ•°æ ˆï¼Œå…¶ä½™çš„å­—èŠ‚ç æŒ‡ä»¤å°†æ“ä½œæ•°å–å‡ºæ ˆã€‚ä½¿ç”¨å®ƒä»¬åå†æŠŠç»“æœå‹å…¥æ ˆã€‚æ¯”å¦‚ï¼Œæ‰§è¡Œå¤åˆ¶ã€äº¤æ¢ã€æ±‚å’Œç­‰æ“ä½œ")])])]),t._v(" "),s("h5",{attrs:{id:"æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[t._v("#")]),t._v(" æ¦‚è¿°")]),t._v(" "),s("ul",[s("li",[s("mark",[t._v("æ“ä½œæ•°æ ˆï¼Œ"),s("strong",[t._v("ä¸»è¦ç”¨äºä¿å­˜è®¡ç®—è¿‡ç¨‹çš„ä¸­é—´ç»“æœï¼ŒåŒæ—¶ä½œä¸ºè®¡ç®—è¿‡ç¨‹ä¸­å˜é‡ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´")])])]),t._v(" "),s("li",[t._v("æ“ä½œæ•°æ ˆå°±æ˜¯ JVM æ‰§è¡Œå¼•æ“çš„ä¸€ä¸ªå·¥ä½œåŒºï¼Œå½“ä¸€ä¸ªæ–¹æ³•åˆšå¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€ä¸ªæ–°çš„æ ˆå¸§ä¹Ÿä¼šéšä¹‹è¢«åˆ›å»ºå‡ºæ¥ï¼Œ"),s("strong",[t._v("æ­¤æ—¶è¿™ä¸ªæ–¹æ³•çš„æ“ä½œæ•°æ ˆæ˜¯ç©ºçš„")])]),t._v(" "),s("li",[t._v("æ¯ä¸€ä¸ªæ“ä½œæ•°æ ˆéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ ˆæ·±åº¦ç”¨äºå­˜å‚¨æ•°å€¼ï¼Œå…¶æ‰€éœ€çš„æœ€å¤§æ·±åº¦åœ¨ç¼–è¯‘æœŸå°±å®šä¹‰å¥½äº†ï¼Œä¿å­˜åœ¨æ–¹æ³•çš„ Code å±æ€§çš„ "),s("code",[t._v("max_stack")]),t._v(" æ•°æ®é¡¹ä¸­")]),t._v(" "),s("li",[t._v("æ ˆä¸­çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥æ˜¯ä»»æ„çš„ Java æ•°æ®ç±»å‹\n"),s("ul",[s("li",[t._v("32bit çš„ç±»å‹å ç”¨ä¸€ä¸ªæ ˆå•ä½æ·±åº¦")]),t._v(" "),s("li",[t._v("64bit çš„ç±»å‹å ç”¨ä¸¤ä¸ªæ ˆå•ä½æ·±åº¦")])])]),t._v(" "),s("li",[t._v("æ“ä½œæ•°æ ˆå¹¶éé‡‡ç”¨è®¿é—®ç´¢å¼•çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®è®¿é—®çš„ï¼Œè€Œæ˜¯åªèƒ½é€šè¿‡æ ‡å‡†çš„å…¥æ ˆå’Œå‡ºæ ˆæ“ä½œæ¥å®Œæˆä¸€æ¬¡æ•°æ®è®¿é—®")]),t._v(" "),s("li",[s("strong",[t._v("å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•å¸¦æœ‰è¿”å›å€¼çš„è¯ï¼Œå…¶è¿”å›å€¼å°†ä¼šè¢«å‹å…¥å½“å‰æ ˆå¸§çš„æ“ä½œæ•°æ ˆä¸­")]),t._v("ï¼Œå¹¶æ›´æ–° PC å¯„å­˜å™¨ä¸­ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤")]),t._v(" "),s("li",[t._v("æ“ä½œæ•°æ ˆä¸­å…ƒç´ çš„æ•°æ®ç±»å‹å¿…é¡»ä¸å­—èŠ‚ç æŒ‡ä»¤çš„åºåˆ—ä¸¥æ ¼åŒ¹é…ï¼Œè¿™ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´è¿›è¡ŒéªŒè¯ï¼ŒåŒæ—¶åœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„ç±»æ£€éªŒé˜¶æ®µçš„æ•°æ®æµåˆ†æé˜¶æ®µè¦å†æ¬¡éªŒè¯")]),t._v(" "),s("li",[t._v("å¦å¤–ï¼Œæˆ‘ä»¬è¯´ "),s("strong",[t._v("Javaè™šæ‹Ÿæœºçš„è§£é‡Šå¼•æ“æ˜¯åŸºäºæ ˆçš„æ‰§è¡Œå¼•æ“")]),t._v("ï¼Œå…¶ä¸­çš„æ ˆæŒ‡çš„å°±æ˜¯æ“ä½œæ•°æ ˆ")])]),t._v(" "),s("h5",{attrs:{id:"æ ˆé¡¶ç¼“å­˜-top-of-stack-cashing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ˆé¡¶ç¼“å­˜-top-of-stack-cashing"}},[t._v("#")]),t._v(" æ ˆé¡¶ç¼“å­˜ï¼ˆTop-of-stack-Cashingï¼‰")]),t._v(" "),s("p",[t._v("HotSpot çš„æ‰§è¡Œå¼•æ“é‡‡ç”¨çš„å¹¶éæ˜¯åŸºäºå¯„å­˜å™¨çš„æ¶æ„ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨ HotSpot VM çš„å®ç°å¹¶æ²¡æœ‰é—´æ¥åˆ©ç”¨åˆ°å¯„å­˜å™¨èµ„æºã€‚å¯„å­˜å™¨æ˜¯ç‰©ç† CPU ä¸­çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯ CPU ä¸­éå¸¸é‡è¦çš„é«˜é€Ÿå­˜å‚¨èµ„æºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯„å­˜å™¨çš„è¯»/å†™é€Ÿåº¦éå¸¸è¿…é€Ÿï¼Œç”šè‡³å¯ä»¥æ¯”å†…å­˜çš„è¯»/å†™é€Ÿåº¦å¿«ä¸Šå‡ åå€ä¸æ­¢ï¼Œä¸è¿‡å¯„å­˜å™¨èµ„æºå´éå¸¸æœ‰é™ï¼Œä¸åŒå¹³å°ä¸‹çš„ CPU å¯„å­˜å™¨æ•°é‡æ˜¯ä¸åŒå’Œä¸è§„å¾‹çš„ã€‚å¯„å­˜å™¨ä¸»è¦ç”¨äºç¼“å­˜æœ¬åœ°æœºå™¨æŒ‡ä»¤ã€æ•°å€¼å’Œä¸‹ä¸€æ¡éœ€è¦è¢«æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ç­‰æ•°æ®ã€‚")]),t._v(" "),s("p",[t._v("åŸºäºæ ˆå¼æ¶æ„çš„è™šæ‹Ÿæœºæ‰€ä½¿ç”¨çš„é›¶åœ°å€æŒ‡ä»¤æ›´åŠ ç´§å‡‘ï¼Œä½†å®Œæˆä¸€é¡¹æ“ä½œçš„æ—¶å€™å¿…ç„¶éœ€è¦ä½¿ç”¨æ›´å¤šçš„å…¥æ ˆå’Œå‡ºæ ˆæŒ‡ä»¤ï¼Œè¿™åŒæ—¶ä¹Ÿå°±æ„å‘³ç€å°†éœ€è¦æ›´å¤šçš„æŒ‡ä»¤åˆ†æ´¾ï¼ˆinstruction dispatchï¼‰æ¬¡æ•°å’Œå†…å­˜è¯»/å†™æ¬¡æ•°ã€‚ç”±äºæ“ä½œæ•°æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå› æ­¤é¢‘ç¹çš„æ‰§è¡Œå†…å­˜è¯»/å†™æ“ä½œå¿…ç„¶ä¼šå½±å“æ‰§è¡Œé€Ÿåº¦ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHotSpot JVM è®¾è®¡è€…ä»¬æå‡ºäº†æ ˆé¡¶ç¼“å­˜æŠ€æœ¯ï¼Œ"),s("strong",[t._v("å°†æ ˆé¡¶å…ƒç´ å…¨éƒ¨ç¼“å­˜åœ¨ç‰©ç† CPU çš„å¯„å­˜å™¨ä¸­ï¼Œä»¥æ­¤é™ä½å¯¹å†…å­˜çš„è¯»/å†™æ¬¡æ•°ï¼Œæå‡æ‰§è¡Œå¼•æ“çš„æ‰§è¡Œæ•ˆç‡")])]),t._v(" "),s("h4",{attrs:{id:"_2-4-3-åŠ¨æ€é“¾æ¥-æŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± çš„æ–¹æ³•å¼•ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-åŠ¨æ€é“¾æ¥-æŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± çš„æ–¹æ³•å¼•ç”¨"}},[t._v("#")]),t._v(" 2.4.3. åŠ¨æ€é“¾æ¥ï¼ˆæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± çš„æ–¹æ³•å¼•ç”¨ï¼‰")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ¯ä¸€ä¸ªæ ˆå¸§å†…éƒ¨éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨")]),t._v("ã€‚åŒ…å«è¿™ä¸ªå¼•ç”¨çš„ç›®çš„å°±æ˜¯ä¸ºäº†æ”¯æŒå½“å‰æ–¹æ³•çš„ä»£ç èƒ½å¤Ÿå®ç°åŠ¨æ€é“¾æ¥(Dynamic Linking)ã€‚")]),t._v(" "),s("li",[t._v("åœ¨ Java æºæ–‡ä»¶è¢«ç¼–è¯‘åˆ°å­—èŠ‚ç æ–‡ä»¶ä¸­æ—¶ï¼Œæ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•å¼•ç”¨éƒ½ä½œä¸º"),s("mark",[s("strong",[t._v("ç¬¦å·å¼•ç”¨")])]),t._v("ï¼ˆSymbolic Referenceï¼‰ä¿å­˜åœ¨ Class æ–‡ä»¶çš„å¸¸é‡æ± ä¸­ã€‚æ¯”å¦‚ï¼šæè¿°ä¸€ä¸ªæ–¹æ³•è°ƒç”¨äº†å¦å¤–çš„å…¶ä»–æ–¹æ³•æ—¶ï¼Œå°±æ˜¯é€šè¿‡å¸¸é‡æ± ä¸­æŒ‡å‘æ–¹æ³•çš„ç¬¦å·å¼•ç”¨æ¥è¡¨ç¤ºçš„ï¼Œé‚£ä¹ˆ"),s("strong",[t._v("åŠ¨æ€é“¾æ¥çš„ä½œç”¨å°±æ˜¯ä¸ºäº†å°†è¿™äº›ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29g9IVw1nI30nh6BeSgA7ldbONVZicqAyetWkndD4cDwrWeRlCUwDMcKQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("h5",{attrs:{id:"jvm-æ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jvm-æ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„"}},[t._v("#")]),t._v(" JVM æ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„")]),t._v(" "),s("p",[t._v("æ–¹æ³•è°ƒç”¨ä¸åŒäºæ–¹æ³•æ‰§è¡Œï¼Œæ–¹æ³•è°ƒç”¨é˜¶æ®µçš„å”¯ä¸€ä»»åŠ¡å°±æ˜¯ç¡®å®šè¢«è°ƒç”¨æ–¹æ³•çš„ç‰ˆæœ¬ï¼ˆå³è°ƒç”¨å“ªä¸€ä¸ªæ–¹æ³•ï¼‰ï¼Œæš‚æ—¶è¿˜ä¸æ¶‰åŠæ–¹æ³•å†…éƒ¨çš„å…·ä½“è¿è¡Œè¿‡ç¨‹ã€‚Class æ–‡ä»¶çš„ç¼–è¯‘è¿‡ç¨‹ä¸­ä¸åŒ…æ‹¬ä¼ ç»Ÿç¼–è¯‘å™¨ä¸­çš„è¿æ¥æ­¥éª¤ï¼Œä¸€åˆ‡æ–¹æ³•è°ƒç”¨åœ¨ Classæ–‡ä»¶é‡Œé¢å­˜å‚¨çš„éƒ½æ˜¯"),s("strong",[t._v("ç¬¦å·å¼•ç”¨")]),t._v("ï¼Œè€Œä¸æ˜¯æ–¹æ³•åœ¨å®é™…è¿è¡Œæ—¶å†…å­˜å¸ƒå±€ä¸­çš„å…¥å£åœ°å€ï¼ˆ"),s("strong",[t._v("ç›´æ¥å¼•ç”¨")]),t._v("ï¼‰ã€‚ä¹Ÿå°±æ˜¯éœ€è¦åœ¨ç±»åŠ è½½é˜¶æ®µï¼Œç”šè‡³åˆ°è¿è¡ŒæœŸæ‰èƒ½ç¡®å®šç›®æ ‡æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ã€è¿™ä¸€å—å†…å®¹ï¼Œé™¤äº†æ–¹æ³•è°ƒç”¨ï¼Œè¿˜åŒ…æ‹¬è§£æã€åˆ†æ´¾ï¼ˆé™æ€åˆ†æ´¾ã€åŠ¨æ€åˆ†æ´¾ã€å•åˆ†æ´¾ä¸å¤šåˆ†æ´¾ï¼‰ï¼Œè¿™é‡Œå…ˆä¸ä»‹ç»ï¼Œåç»­å†æŒ–ã€‘")])]),t._v(" "),s("p",[t._v("åœ¨ JVM ä¸­ï¼Œå°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ä¸æ–¹æ³•çš„ç»‘å®šæœºåˆ¶æœ‰å…³")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("é™æ€é“¾æ¥")]),t._v("ï¼šå½“ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶è¢«è£…è½½è¿› JVM å†…éƒ¨æ—¶ï¼Œå¦‚æœè¢«è°ƒç”¨çš„"),s("strong",[t._v("ç›®æ ‡æ–¹æ³•åœ¨ç¼–è¯‘æœŸå¯çŸ¥")]),t._v("ï¼Œä¸”è¿è¡ŒæœŸä¿æŒä¸å˜æ—¶ã€‚è¿™ç§æƒ…å†µä¸‹å°†è°ƒç”¨æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºé™æ€é“¾æ¥")]),t._v(" "),s("li",[s("strong",[t._v("åŠ¨æ€é“¾æ¥")]),t._v("ï¼šå¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•åœ¨ç¼–è¯‘æœŸæ— æ³•è¢«ç¡®å®šä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½åœ¨ç¨‹åºè¿è¡ŒæœŸå°†è°ƒç”¨æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼Œç”±äºè¿™ç§å¼•ç”¨è½¬æ¢è¿‡ç¨‹å…·å¤‡åŠ¨æ€æ€§ï¼Œå› æ­¤ä¹Ÿå°±è¢«ç§°ä¹‹ä¸ºåŠ¨æ€é“¾æ¥")])]),t._v(" "),s("p",[t._v("å¯¹åº”çš„æ–¹æ³•çš„ç»‘å®šæœºåˆ¶ä¸ºï¼šæ—©æœŸç»‘å®šï¼ˆEarly Bindingï¼‰å’Œæ™šæœŸç»‘å®šï¼ˆLate Bindingï¼‰ã€‚"),s("strong",[t._v("ç»‘å®šæ˜¯ä¸€ä¸ªå­—æ®µã€æ–¹æ³•æˆ–è€…ç±»åœ¨ç¬¦å·å¼•ç”¨è¢«æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œè¿™ä»…ä»…å‘ç”Ÿä¸€æ¬¡")]),t._v("ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("æ—©æœŸç»‘å®šï¼š"),s("strong",[t._v("æ—©æœŸç»‘å®šå°±æ˜¯æŒ‡è¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•å¦‚æœåœ¨ç¼–è¯‘æœŸå¯çŸ¥ï¼Œä¸”è¿è¡ŒæœŸä¿æŒä¸å˜æ—¶")]),t._v("ï¼Œå³å¯å°†è¿™ä¸ªæ–¹æ³•ä¸æ‰€å±çš„ç±»å‹è¿›è¡Œç»‘å®šï¼Œè¿™æ ·ä¸€æ¥ï¼Œç”±äºæ˜ç¡®äº†è¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•ç©¶ç«Ÿæ˜¯å“ªä¸€ä¸ªï¼Œå› æ­¤ä¹Ÿå°±å¯ä»¥ä½¿ç”¨é™æ€é“¾æ¥çš„æ–¹å¼å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚")]),t._v(" "),s("li",[t._v("æ™šæœŸç»‘å®šï¼šå¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•åœ¨ç¼–è¯‘å™¨æ— æ³•è¢«ç¡®å®šä¸‹æ¥ï¼Œåªèƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸæ ¹æ®å®é™…çš„ç±»å‹ç»‘å®šç›¸å…³çš„æ–¹æ³•ï¼Œè¿™ç§ç»‘å®šæ–¹å¼å°±è¢«ç§°ä¸ºæ™šæœŸç»‘å®šã€‚")])]),t._v(" "),s("h5",{attrs:{id:"è™šæ–¹æ³•å’Œéè™šæ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ–¹æ³•å’Œéè™šæ–¹æ³•"}},[t._v("#")]),t._v(" è™šæ–¹æ³•å’Œéè™šæ–¹æ³•")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœæ–¹æ³•åœ¨ç¼–è¯‘å™¨å°±ç¡®å®šäº†å…·ä½“çš„è°ƒç”¨ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬åœ¨è¿è¡Œæ—¶æ˜¯ä¸å¯å˜çš„ã€‚è¿™æ ·çš„æ–¹æ³•ç§°ä¸ºéè™šæ–¹æ³•ï¼Œæ¯”å¦‚é™æ€æ–¹æ³•ã€ç§æœ‰æ–¹æ³•ã€final æ–¹æ³•ã€å®ä¾‹æ„é€ å™¨ã€çˆ¶ç±»æ–¹æ³•éƒ½æ˜¯éè™šæ–¹æ³•")]),t._v(" "),s("li",[t._v("å…¶ä»–æ–¹æ³•ç§°ä¸ºè™šæ–¹æ³•")])]),t._v(" "),s("h5",{attrs:{id:"è™šæ–¹æ³•è¡¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ–¹æ³•è¡¨"}},[t._v("#")]),t._v(" è™šæ–¹æ³•è¡¨")]),t._v(" "),s("p",[t._v("åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œä¼šé¢‘ç¹çš„ä½¿ç”¨åˆ°åŠ¨æ€åˆ†æ´¾ï¼Œå¦‚æœæ¯æ¬¡åŠ¨æ€åˆ†æ´¾éƒ½è¦é‡æ–°åœ¨ç±»çš„æ–¹æ³•å…ƒæ•°æ®ä¸­æœç´¢åˆé€‚çš„ç›®æ ‡æœ‰å¯èƒ½ä¼šå½±å“åˆ°æ‰§è¡Œæ•ˆç‡ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒJVM é‡‡ç”¨åœ¨ç±»çš„æ–¹æ³•åŒºå»ºç«‹ä¸€ä¸ªè™šæ–¹æ³•è¡¨ï¼ˆvirtual method tableï¼‰ï¼Œä½¿ç”¨ç´¢å¼•è¡¨æ¥ä»£æ›¿æŸ¥æ‰¾ã€‚éè™šæ–¹æ³•ä¸ä¼šå‡ºç°åœ¨è¡¨ä¸­ã€‚")]),t._v(" "),s("p",[t._v("æ¯ä¸ªç±»ä¸­éƒ½æœ‰ä¸€ä¸ªè™šæ–¹æ³•è¡¨ï¼Œè¡¨ä¸­å­˜æ”¾ç€å„ä¸ªæ–¹æ³•çš„å®é™…å…¥å£ã€‚")]),t._v(" "),s("p",[t._v("è™šæ–¹æ³•è¡¨ä¼šåœ¨ç±»åŠ è½½çš„è¿æ¥é˜¶æ®µè¢«åˆ›å»ºå¹¶å¼€å§‹åˆå§‹åŒ–ï¼Œç±»çš„å˜é‡åˆå§‹å€¼å‡†å¤‡å®Œæˆä¹‹åï¼ŒJVM ä¼šæŠŠè¯¥ç±»çš„æ–¹æ³•è¡¨ä¹Ÿåˆå§‹åŒ–å®Œæ¯•ã€‚")]),t._v(" "),s("h4",{attrs:{id:"_2-4-4-æ–¹æ³•è¿”å›åœ°å€-return-address"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-4-æ–¹æ³•è¿”å›åœ°å€-return-address"}},[t._v("#")]),t._v(" 2.4.4. æ–¹æ³•è¿”å›åœ°å€ï¼ˆreturn addressï¼‰")]),t._v(" "),s("p",[t._v("ç”¨æ¥å­˜æ”¾è°ƒç”¨è¯¥æ–¹æ³•çš„ PC å¯„å­˜å™¨çš„å€¼ã€‚")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæ–¹æ³•çš„ç»“æŸï¼Œæœ‰ä¸¤ç§æ–¹å¼")]),t._v(" "),s("ul",[s("li",[t._v("æ­£å¸¸æ‰§è¡Œå®Œæˆ")]),t._v(" "),s("li",[t._v("å‡ºç°æœªå¤„ç†çš„å¼‚å¸¸ï¼Œéæ­£å¸¸é€€å‡º")])]),t._v(" "),s("p",[t._v("æ— è®ºé€šè¿‡å“ªç§æ–¹å¼é€€å‡ºï¼Œåœ¨æ–¹æ³•é€€å‡ºåéƒ½è¿”å›åˆ°è¯¥æ–¹æ³•è¢«è°ƒç”¨çš„ä½ç½®ã€‚æ–¹æ³•æ­£å¸¸é€€å‡ºæ—¶ï¼Œè°ƒç”¨è€…çš„ PC è®¡æ•°å™¨çš„å€¼ä½œä¸ºè¿”å›åœ°å€ï¼Œå³è°ƒç”¨è¯¥æ–¹æ³•çš„æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚è€Œé€šè¿‡å¼‚å¸¸é€€å‡ºçš„ï¼Œè¿”å›åœ°å€æ˜¯è¦é€šè¿‡å¼‚å¸¸è¡¨æ¥ç¡®å®šçš„ï¼Œæ ˆå¸§ä¸­ä¸€èˆ¬ä¸ä¼šä¿å­˜è¿™éƒ¨åˆ†ä¿¡æ¯ã€‚")]),t._v(" "),s("p",[t._v("å½“ä¸€ä¸ªæ–¹æ³•å¼€å§‹æ‰§è¡Œåï¼Œåªæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥é€€å‡ºè¿™ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("æ‰§è¡Œå¼•æ“é‡åˆ°ä»»æ„ä¸€ä¸ªæ–¹æ³•è¿”å›çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œä¼šæœ‰è¿”å›å€¼ä¼ é€’ç»™ä¸Šå±‚çš„æ–¹æ³•è°ƒç”¨è€…ï¼Œç®€ç§°"),s("strong",[t._v("æ­£å¸¸å®Œæˆå‡ºå£")])]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæ–¹æ³•çš„æ­£å¸¸è°ƒç”¨å®Œæˆä¹‹åç©¶ç«Ÿéœ€è¦ä½¿ç”¨å“ªä¸€ä¸ªè¿”å›æŒ‡ä»¤è¿˜éœ€è¦æ ¹æ®æ–¹æ³•è¿”å›å€¼çš„å®é™…æ•°æ®ç±»å‹è€Œå®š")]),t._v(" "),s("p",[t._v("åœ¨å­—èŠ‚ç æŒ‡ä»¤ä¸­ï¼Œè¿”å›æŒ‡ä»¤åŒ…å« ireturn(å½“è¿”å›å€¼æ˜¯ booleanã€byteã€charã€short å’Œ int ç±»å‹æ—¶ä½¿ç”¨)ã€lreturnã€freturnã€dreturn ä»¥åŠ areturnï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ª return æŒ‡ä»¤ä¾›å£°æ˜ä¸º void çš„æ–¹æ³•ã€å®ä¾‹åˆå§‹åŒ–æ–¹æ³•ã€ç±»å’Œæ¥å£çš„åˆå§‹åŒ–æ–¹æ³•ä½¿ç”¨ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸ï¼Œå¹¶ä¸”è¿™ä¸ªå¼‚å¸¸æ²¡æœ‰åœ¨æ–¹æ³•å†…è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯åªè¦åœ¨æœ¬æ–¹æ³•çš„å¼‚å¸¸è¡¨ä¸­æ²¡æœ‰æœç´¢åˆ°åŒ¹é…çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œå°±ä¼šå¯¼è‡´æ–¹æ³•é€€å‡ºã€‚ç®€ç§°"),s("strong",[t._v("å¼‚å¸¸å®Œæˆå‡ºå£")])]),t._v(" "),s("p",[t._v("æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶çš„å¼‚å¸¸å¤„ç†ï¼Œå­˜å‚¨åœ¨ä¸€ä¸ªå¼‚å¸¸å¤„ç†è¡¨ï¼Œæ–¹ä¾¿åœ¨å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™æ‰¾åˆ°å¤„ç†å¼‚å¸¸çš„ä»£ç ã€‚")])])]),t._v(" "),s("p",[t._v("æœ¬è´¨ä¸Šï¼Œ"),s("strong",[t._v("æ–¹æ³•çš„é€€å‡ºå°±æ˜¯å½“å‰æ ˆå¸§å‡ºæ ˆçš„è¿‡ç¨‹")]),t._v("ã€‚æ­¤æ—¶ï¼Œéœ€è¦æ¢å¤ä¸Šå±‚æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€å°†è¿”å›å€¼å‹å…¥è°ƒç”¨è€…æ ˆå¸§çš„æ“ä½œæ•°æ ˆã€è®¾ç½®PCå¯„å­˜å™¨å€¼ç­‰ï¼Œè®©è°ƒç”¨è€…æ–¹æ³•ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚")]),t._v(" "),s("p",[t._v("æ­£å¸¸å®Œæˆå‡ºå£å’Œå¼‚å¸¸å®Œæˆå‡ºå£çš„åŒºåˆ«åœ¨äºï¼š"),s("strong",[t._v("é€šè¿‡å¼‚å¸¸å®Œæˆå‡ºå£é€€å‡ºçš„ä¸ä¼šç»™ä»–çš„ä¸Šå±‚è°ƒç”¨è€…äº§ç”Ÿä»»ä½•çš„è¿”å›å€¼")])]),t._v(" "),s("h4",{attrs:{id:"_2-4-5-é™„åŠ ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-é™„åŠ ä¿¡æ¯"}},[t._v("#")]),t._v(" 2.4.5. é™„åŠ ä¿¡æ¯")]),t._v(" "),s("p",[t._v("æ ˆå¸§ä¸­è¿˜å…è®¸æºå¸¦ä¸ Java è™šæ‹Ÿæœºå®ç°ç›¸å…³çš„ä¸€äº›é™„åŠ ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯¹ç¨‹åºè°ƒè¯•æä¾›æ”¯æŒçš„ä¿¡æ¯ï¼Œä½†è¿™äº›ä¿¡æ¯å–å†³äºå…·ä½“çš„è™šæ‹Ÿæœºå®ç°ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ä¸‰ã€æœ¬åœ°æ–¹æ³•æ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€æœ¬åœ°æ–¹æ³•æ ˆ"}},[t._v("#")]),t._v(" ä¸‰ã€æœ¬åœ°æ–¹æ³•æ ˆ")]),t._v(" "),s("h3",{attrs:{id:"_3-1-æœ¬åœ°æ–¹æ³•æ¥å£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-æœ¬åœ°æ–¹æ³•æ¥å£"}},[t._v("#")]),t._v(" 3.1 æœ¬åœ°æ–¹æ³•æ¥å£")]),t._v(" "),s("p",[t._v("ç®€å•çš„è®²ï¼Œä¸€ä¸ª Native Method å°±æ˜¯ä¸€ä¸ª Java è°ƒç”¨é Java ä»£ç çš„æ¥å£ã€‚æˆ‘ä»¬çŸ¥é“çš„ Unsafe ç±»å°±æœ‰å¾ˆå¤šæœ¬åœ°æ–¹æ³•ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æœ¬åœ°æ–¹æ³•ï¼ˆNative Methodï¼‰?")])]),t._v(" "),s("p",[t._v("Java ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œç„¶è€Œæœ‰äº›å±‚æ¬¡çš„ä»»åŠ¡ç”¨ Java å®ç°èµ·æ¥ä¹Ÿä¸å®¹æ˜“ï¼Œæˆ–è€…æˆ‘ä»¬å¯¹ç¨‹åºçš„æ•ˆç‡å¾ˆåœ¨æ„æ—¶ï¼Œé—®é¢˜å°±æ¥äº†")]),t._v(" "),s("ul",[s("li",[t._v("ä¸ Java ç¯å¢ƒå¤–äº¤äº’ï¼šæœ‰æ—¶ Java åº”ç”¨éœ€è¦ä¸ Java å¤–é¢çš„ç¯å¢ƒäº¤äº’ï¼Œè¿™å°±æ˜¯æœ¬åœ°æ–¹æ³•å­˜åœ¨çš„åŸå› ã€‚")]),t._v(" "),s("li",[t._v("ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼šJVM æ”¯æŒ Java è¯­è¨€æœ¬èº«å’Œè¿è¡Œæ—¶åº“ï¼Œä½†æ˜¯æœ‰æ—¶ä»éœ€è¦ä¾èµ–ä¸€äº›åº•å±‚ç³»ç»Ÿçš„æ”¯æŒã€‚é€šè¿‡æœ¬åœ°æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç”¨ Java ä¸å®ç°äº† jre çš„åº•å±‚ç³»ç»Ÿäº¤äº’ï¼Œ JVM çš„ä¸€äº›éƒ¨åˆ†å°±æ˜¯ C è¯­è¨€å†™çš„ã€‚")]),t._v(" "),s("li",[t._v("Sun's Javaï¼šSunçš„è§£é‡Šå™¨å°±æ˜¯Cå®ç°çš„ï¼Œè¿™ä½¿å¾—å®ƒèƒ½åƒä¸€äº›æ™®é€šçš„Cä¸€æ ·ä¸å¤–éƒ¨äº¤äº’ã€‚jreå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨ Java å®ç°çš„ï¼Œå®ƒä¹Ÿé€šè¿‡ä¸€äº›æœ¬åœ°æ–¹æ³•ä¸å¤–ç•Œäº¤äº’ã€‚æ¯”å¦‚ï¼Œç±» "),s("code",[t._v("java.lang.Thread")]),t._v(" çš„ "),s("code",[t._v("setPriority()")]),t._v(" çš„æ–¹æ³•æ˜¯ç”¨Java å®ç°çš„ï¼Œä½†å®ƒå®ç°è°ƒç”¨çš„æ˜¯è¯¥ç±»çš„æœ¬åœ°æ–¹æ³• "),s("code",[t._v("setPrioruty()")]),t._v("ï¼Œè¯¥æ–¹æ³•æ˜¯Cå®ç°çš„ï¼Œå¹¶è¢«æ¤å…¥ JVM å†…éƒ¨ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_3-2-æœ¬åœ°æ–¹æ³•æ ˆ-native-method-stack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æœ¬åœ°æ–¹æ³•æ ˆ-native-method-stack"}},[t._v("#")]),t._v(" 3.2 æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Java è™šæ‹Ÿæœºæ ˆç”¨äºç®¡ç† Java æ–¹æ³•çš„è°ƒç”¨ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆç”¨äºç®¡ç†æœ¬åœ°æ–¹æ³•çš„è°ƒç”¨")])]),t._v(" "),s("li",[s("p",[t._v("æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„")])]),t._v(" "),s("li",[s("p",[t._v("å…è®¸çº¿ç¨‹å›ºå®šæˆ–è€…å¯åŠ¨æ€æ‰©å±•çš„å†…å­˜å¤§å°")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœçº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ ˆå®¹é‡è¶…è¿‡æœ¬åœ°æ–¹æ³•æ ˆå…è®¸çš„æœ€å¤§å®¹é‡ï¼ŒJava è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª "),s("code",[t._v("StackOverflowError")]),t._v(" å¼‚å¸¸")]),t._v(" "),s("li",[t._v("å¦‚æœæœ¬åœ°æ–¹æ³•æ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œå¹¶ä¸”åœ¨å°è¯•æ‰©å±•çš„æ—¶å€™æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œæˆ–è€…åœ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„æœ¬åœ°æ–¹æ³•æ ˆï¼Œé‚£ä¹ˆ Javaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª"),s("code",[t._v("OutofMemoryError")]),t._v("å¼‚å¸¸")])])]),t._v(" "),s("li",[s("p",[t._v("æœ¬åœ°æ–¹æ³•æ˜¯ä½¿ç”¨ C è¯­è¨€å®ç°çš„")])]),t._v(" "),s("li",[s("p",[t._v("å®ƒçš„å…·ä½“åšæ³•æ˜¯ "),s("code",[t._v("Mative Method Stack")]),t._v(" ä¸­ç™»è®° native æ–¹æ³•ï¼Œåœ¨ "),s("code",[t._v("Execution Engine")]),t._v(" æ‰§è¡Œæ—¶åŠ è½½æœ¬åœ°æ–¹æ³•åº“å½“æŸä¸ªçº¿ç¨‹è°ƒç”¨ä¸€ä¸ªæœ¬åœ°æ–¹æ³•æ—¶ï¼Œå®ƒå°±è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å¹¶ä¸”ä¸å†å—è™šæ‹Ÿæœºé™åˆ¶çš„ä¸–ç•Œã€‚å®ƒå’Œè™šæ‹Ÿæœºæ‹¥æœ‰åŒæ ·çš„æƒé™ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æœ¬åœ°æ–¹æ³•å¯ä»¥é€šè¿‡æœ¬åœ°æ–¹æ³•æ¥å£æ¥è®¿é—®è™šæ‹Ÿæœºå†…éƒ¨çš„è¿è¡Œæ—¶æ•°æ®åŒºï¼Œå®ƒç”šè‡³å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°å¤„ç†å™¨ä¸­çš„å¯„å­˜å™¨ï¼Œç›´æ¥ä»æœ¬åœ°å†…å­˜çš„å †ä¸­åˆ†é…ä»»æ„æ•°é‡çš„å†…å­˜")])]),t._v(" "),s("li",[s("p",[t._v("å¹¶ä¸æ˜¯æ‰€æœ‰ JVM éƒ½æ”¯æŒæœ¬åœ°æ–¹æ³•ã€‚å› ä¸º Java è™šæ‹Ÿæœºè§„èŒƒå¹¶æ²¡æœ‰æ˜ç¡®è¦æ±‚æœ¬åœ°æ–¹æ³•æ ˆçš„ä½¿ç”¨è¯­è¨€ã€å…·ä½“å®ç°æ–¹å¼ã€æ•°æ®ç»“æ„ç­‰ã€‚å¦‚æœ JVM äº§å“ä¸æ‰“ç®—æ”¯æŒ native æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ— éœ€å®ç°æœ¬åœ°æ–¹æ³•æ ˆ")])]),t._v(" "),s("li",[s("p",[s("mark",[t._v("åœ¨ Hotspot JVM ä¸­ï¼Œç›´æ¥å°†æœ¬åœ°æ–¹æ ˆå’Œè™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€")])])])]),t._v(" "),s("hr"),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("æ ˆæ˜¯è¿è¡Œæ—¶çš„å•ä½ï¼Œè€Œå †æ˜¯å­˜å‚¨çš„å•ä½")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ ˆè§£å†³ç¨‹åºçš„è¿è¡Œé—®é¢˜ï¼Œå³ç¨‹åºå¦‚ä½•æ‰§è¡Œï¼Œæˆ–è€…è¯´å¦‚ä½•å¤„ç†æ•°æ®ã€‚å †è§£å†³çš„æ˜¯æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œå³æ•°æ®æ€ä¹ˆæ”¾ã€æ”¾åœ¨å“ªã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å››ã€å †å†…å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å †å†…å­˜"}},[t._v("#")]),t._v(" å››ã€å †å†…å­˜")]),t._v(" "),s("h3",{attrs:{id:"_4-1-å†…å­˜åˆ’åˆ†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-å†…å­˜åˆ’åˆ†"}},[t._v("#")]),t._v(" 4.1 å†…å­˜åˆ’åˆ†")]),t._v(" "),s("p",[t._v("å¯¹äºå¤§å¤šæ•°åº”ç”¨ï¼ŒJava å †æ˜¯ Java è™šæ‹Ÿæœºç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ï¼Œè¢«æ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚æ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°æ®éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†è¿›è¡Œé«˜æ•ˆçš„åƒåœ¾å›æ”¶ï¼Œè™šæ‹ŸæœºæŠŠå †å†…å­˜"),s("strong",[t._v("é€»è¾‘ä¸Š")]),t._v("åˆ’åˆ†æˆä¸‰å—åŒºåŸŸï¼ˆ"),s("mark",[t._v("åˆ†ä»£çš„å”¯ä¸€ç†ç”±å°±æ˜¯ä¼˜åŒ– GC æ€§èƒ½")]),t._v("ï¼‰ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ–°ç”Ÿå¸¦ï¼ˆå¹´è½»ä»£ï¼‰ï¼šæ–°å¯¹è±¡å’Œæ²¡è¾¾åˆ°ä¸€å®šå¹´é¾„çš„å¯¹è±¡éƒ½åœ¨æ–°ç”Ÿä»£")]),t._v(" "),s("li",[t._v("è€å¹´ä»£ï¼ˆå…»è€åŒºï¼‰ï¼šè¢«é•¿æ—¶é—´ä½¿ç”¨çš„å¯¹è±¡ï¼Œè€å¹´ä»£çš„å†…å­˜ç©ºé—´åº”è¯¥è¦æ¯”å¹´è½»ä»£æ›´å¤§")]),t._v(" "),s("li",[t._v("å…ƒç©ºé—´ï¼ˆJDK1.8 ä¹‹å‰å«æ°¸ä¹…ä»£ï¼‰ï¼šåƒä¸€äº›æ–¹æ³•ä¸­çš„æ“ä½œä¸´æ—¶å¯¹è±¡ç­‰ï¼ŒJDK1.8 ä¹‹å‰æ˜¯å ç”¨ JVM å†…å­˜ï¼ŒJDK1.8 ä¹‹åç›´æ¥ä½¿ç”¨ç‰©ç†å†…å­˜")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29bhZk1leXwNkO3Bo2iavTichwqE0W7ItpmlX5Ebr6BSputueQXutDhGOA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("p",[t._v("Java è™šæ‹Ÿæœºè§„èŒƒè§„å®šï¼ŒJava å †å¯ä»¥æ˜¯å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œåªè¦é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„å³å¯ï¼Œåƒç£ç›˜ç©ºé—´ä¸€æ ·ã€‚å®ç°æ—¶ï¼Œæ—¢å¯ä»¥æ˜¯å›ºå®šå¤§å°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯æ‰©å±•çš„ï¼Œä¸»æµè™šæ‹Ÿæœºéƒ½æ˜¯å¯æ‰©å±•çš„ï¼ˆé€šè¿‡ "),s("code",[t._v("-Xmx")]),t._v(" å’Œ "),s("code",[t._v("-Xms")]),t._v(" æ§åˆ¶ï¼‰ï¼Œå¦‚æœå †ä¸­æ²¡æœ‰å®Œæˆå®ä¾‹åˆ†é…ï¼Œå¹¶ä¸”å †æ— æ³•å†æ‰©å±•æ—¶ï¼Œå°±ä¼šæŠ›å‡º "),s("code",[t._v("OutOfMemoryError")]),t._v(" å¼‚å¸¸ã€‚")]),t._v(" "),s("h4",{attrs:{id:"å¹´è½»ä»£-young-generation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¹´è½»ä»£-young-generation"}},[t._v("#")]),t._v(" å¹´è½»ä»£ (Young Generation)")]),t._v(" "),s("p",[t._v("å¹´è½»ä»£æ˜¯æ‰€æœ‰æ–°å¯¹è±¡åˆ›å»ºçš„åœ°æ–¹ã€‚å½“å¡«å……å¹´è½»ä»£æ—¶ï¼Œæ‰§è¡Œåƒåœ¾æ”¶é›†ã€‚è¿™ç§åƒåœ¾æ”¶é›†ç§°ä¸º "),s("strong",[t._v("Minor GC")]),t._v("ã€‚å¹´è½»ä¸€ä»£è¢«åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†â€”â€”ä¼Šç”¸å›­ï¼ˆ"),s("strong",[t._v("Eden Memory")]),t._v("ï¼‰å’Œä¸¤ä¸ªå¹¸å­˜åŒºï¼ˆ"),s("strong",[t._v("Survivor Memory")]),t._v("ï¼Œè¢«ç§°ä¸ºfrom/toæˆ–s0/s1ï¼‰ï¼Œé»˜è®¤æ¯”ä¾‹æ˜¯"),s("code",[t._v("8:1:1")])]),t._v(" "),s("ul",[s("li",[t._v("å¤§å¤šæ•°æ–°åˆ›å»ºçš„å¯¹è±¡éƒ½ä½äº Eden å†…å­˜ç©ºé—´ä¸­")]),t._v(" "),s("li",[t._v("å½“ Eden ç©ºé—´è¢«å¯¹è±¡å¡«å……æ—¶ï¼Œæ‰§è¡Œ"),s("strong",[t._v("Minor GC")]),t._v("ï¼Œå¹¶å°†æ‰€æœ‰å¹¸å­˜è€…å¯¹è±¡ç§»åŠ¨åˆ°ä¸€ä¸ªå¹¸å­˜è€…ç©ºé—´ä¸­")]),t._v(" "),s("li",[t._v("Minor GC æ£€æŸ¥å¹¸å­˜è€…å¯¹è±¡ï¼Œå¹¶å°†å®ƒä»¬ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¹¸å­˜è€…ç©ºé—´ã€‚æ‰€ä»¥æ¯æ¬¡ï¼Œä¸€ä¸ªå¹¸å­˜è€…ç©ºé—´æ€»æ˜¯ç©ºçš„")]),t._v(" "),s("li",[t._v("ç»è¿‡å¤šæ¬¡ GC å¾ªç¯åå­˜æ´»ä¸‹æ¥çš„å¯¹è±¡è¢«ç§»åŠ¨åˆ°è€å¹´ä»£ã€‚é€šå¸¸ï¼Œè¿™æ˜¯é€šè¿‡è®¾ç½®å¹´è½»ä¸€ä»£å¯¹è±¡çš„å¹´é¾„é˜ˆå€¼æ¥å®ç°çš„ï¼Œç„¶åä»–ä»¬æ‰æœ‰èµ„æ ¼æå‡åˆ°è€ä¸€ä»£")])]),t._v(" "),s("h4",{attrs:{id:"è€å¹´ä»£-old-generation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è€å¹´ä»£-old-generation"}},[t._v("#")]),t._v(" è€å¹´ä»£(Old Generation)")]),t._v(" "),s("p",[t._v("æ—§çš„ä¸€ä»£å†…å­˜åŒ…å«é‚£äº›ç»è¿‡è®¸å¤šè½®å°å‹ GC åä»ç„¶å­˜æ´»çš„å¯¹è±¡ã€‚é€šå¸¸ï¼Œåƒåœ¾æ”¶é›†æ˜¯åœ¨è€å¹´ä»£å†…å­˜æ»¡æ—¶æ‰§è¡Œçš„ã€‚è€å¹´ä»£åƒåœ¾æ”¶é›†ç§°ä¸º ä¸»GCï¼ˆMajor GCï¼‰ï¼Œé€šå¸¸éœ€è¦æ›´é•¿çš„æ—¶é—´ã€‚")]),t._v(" "),s("p",[t._v("å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼ˆå¤§å¯¹è±¡æ˜¯æŒ‡éœ€è¦å¤§é‡è¿ç»­å†…å­˜ç©ºé—´çš„å¯¹è±¡ï¼‰ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é¿å…åœ¨ Eden åŒºå’Œä¸¤ä¸ªSurvivor åŒºä¹‹é—´å‘ç”Ÿå¤§é‡çš„å†…å­˜æ‹·è´")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29MhFR2A88icyjajrvRZewIe0IXiaHsSzQ7mfzm5libWG37dFyY0eoq72hg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("h4",{attrs:{id:"å…ƒç©ºé—´"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…ƒç©ºé—´"}},[t._v("#")]),t._v(" å…ƒç©ºé—´")]),t._v(" "),s("p",[t._v("ä¸ç®¡æ˜¯ JDK8 ä¹‹å‰çš„æ°¸ä¹…ä»£ï¼Œè¿˜æ˜¯ JDK8 åŠä»¥åçš„å…ƒç©ºé—´ï¼Œéƒ½å¯ä»¥çœ‹ä½œæ˜¯ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æ–¹æ³•åŒºçš„å®ç°ã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶ Java è™šæ‹Ÿæœºè§„èŒƒæŠŠæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´æœ‰ä¸€ä¸ªåˆ«åå« Non-Heapï¼ˆéå †ï¼‰ï¼Œç›®çš„åº”è¯¥æ˜¯ä¸ Java å †åŒºåˆ†å¼€ã€‚")]),t._v(" "),s("p",[t._v("æ‰€ä»¥å…ƒç©ºé—´æ”¾åœ¨åè¾¹çš„æ–¹æ³•åŒºå†è¯´ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_4-2-è®¾ç½®å †å†…å­˜å¤§å°å’Œ-oom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-è®¾ç½®å †å†…å­˜å¤§å°å’Œ-oom"}},[t._v("#")]),t._v(" 4.2 è®¾ç½®å †å†…å­˜å¤§å°å’Œ OOM")]),t._v(" "),s("p",[t._v("Java å †ç”¨äºå­˜å‚¨ Java å¯¹è±¡å®ä¾‹ï¼Œé‚£ä¹ˆå †çš„å¤§å°åœ¨ JVM å¯åŠ¨çš„æ—¶å€™å°±ç¡®å®šäº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ "),s("code",[t._v("-Xmx")]),t._v(" å’Œ "),s("code",[t._v("-Xms")]),t._v(" æ¥è®¾å®š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-Xmx")]),t._v(" ç”¨æ¥è¡¨ç¤ºå †çš„èµ·å§‹å†…å­˜ï¼Œç­‰ä»·äº "),s("code",[t._v("-XX:InitialHeapSize")])]),t._v(" "),s("li",[s("code",[t._v("-Xms")]),t._v(" ç”¨æ¥è¡¨ç¤ºå †çš„æœ€å¤§å†…å­˜ï¼Œç­‰ä»·äº "),s("code",[t._v("-XX:MaxHeapSize")])])]),t._v(" "),s("p",[t._v("å¦‚æœå †çš„å†…å­˜å¤§å°è¶…è¿‡ "),s("code",[t._v("-Xms")]),t._v(" è®¾å®šçš„æœ€å¤§å†…å­˜ï¼Œ å°±ä¼šæŠ›å‡º "),s("code",[t._v("OutOfMemoryError")]),t._v(" å¼‚å¸¸ã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬é€šå¸¸ä¼šå°† "),s("code",[t._v("-Xmx")]),t._v(" å’Œ "),s("code",[t._v("-Xms")]),t._v(" ä¸¤ä¸ªå‚æ•°é…ç½®ä¸ºç›¸åŒçš„å€¼ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨åƒåœ¾å›æ”¶æœºåˆ¶æ¸…ç†å®Œå †åŒºåä¸å†éœ€è¦é‡æ–°åˆ†éš”è®¡ç®—å †çš„å¤§å°ï¼Œä»è€Œæé«˜æ€§èƒ½")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆå§‹å †å†…å­˜å¤§å°ä¸ºï¼šç”µè„‘å†…å­˜å¤§å°/64")])]),t._v(" "),s("li",[s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€å¤§å †å†…å­˜å¤§å°ä¸ºï¼šç”µè„‘å†…å­˜å¤§å°/4")])])]),t._v(" "),s("p",[t._v("å¯ä»¥é€šè¿‡ä»£ç è·å–åˆ°æˆ‘ä»¬çš„è®¾ç½®å€¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ¨¡æ‹Ÿ OOMï¼š")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿”å› JVM å †å¤§å°")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" initalMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runtime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRuntime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("totalMemory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿”å› JVM å †çš„æœ€å¤§å†…å­˜")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" maxMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runtime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRuntime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("maxMemory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Xms : "')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("initalMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"M"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Xmx : "')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("maxMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"M"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç³»ç»Ÿå†…å­˜å¤§å°ï¼š"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" initalMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"G"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç³»ç»Ÿå†…å­˜å¤§å°ï¼š"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" maxMemory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"G"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"æŸ¥çœ‹-jvm-å †å†…å­˜åˆ†é…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹-jvm-å †å†…å­˜åˆ†é…"}},[t._v("#")]),t._v(" æŸ¥çœ‹ JVM å †å†…å­˜åˆ†é…")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("åœ¨é»˜è®¤ä¸é…ç½® JVM å †å†…å­˜å¤§å°çš„æƒ…å†µä¸‹ï¼ŒJVM æ ¹æ®é»˜è®¤å€¼æ¥é…ç½®å½“å‰å†…å­˜å¤§å°")])]),t._v(" "),s("li",[s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ¯”ä¾‹æ˜¯ 1:2ï¼Œå¯ä»¥é€šè¿‡ "),s("code",[t._v("â€“XX:NewRatio")]),t._v(" æ¥é…ç½®")]),t._v(" "),s("ul",[s("li",[t._v("æ–°ç”Ÿä»£ä¸­çš„ "),s("strong",[t._v("Eden")]),t._v(":"),s("strong",[t._v("From Survivor")]),t._v(":"),s("strong",[t._v("To Survivor")]),t._v(" çš„æ¯”ä¾‹æ˜¯ "),s("strong",[t._v("8:1:1")]),t._v("ï¼Œå¯ä»¥é€šè¿‡ "),s("code",[t._v("-XX:SurvivorRatio")]),t._v(" æ¥é…ç½®")])])]),t._v(" "),s("li",[s("p",[t._v("è‹¥åœ¨ JDK 7 ä¸­å¼€å¯äº† "),s("code",[t._v("-XX:+UseAdaptiveSizePolicy")]),t._v("ï¼ŒJVM ä¼šåŠ¨æ€è°ƒæ•´ JVM å †ä¸­å„ä¸ªåŒºåŸŸçš„å¤§å°ä»¥åŠè¿›å…¥è€å¹´ä»£çš„å¹´é¾„")]),t._v(" "),s("p",[t._v("æ­¤æ—¶ "),s("code",[t._v("â€“XX:NewRatio")]),t._v(" å’Œ "),s("code",[t._v("-XX:SurvivorRatio")]),t._v("  å°†ä¼šå¤±æ•ˆï¼Œè€Œ JDK 8 æ˜¯é»˜è®¤å¼€å¯"),s("code",[t._v("-XX:+UseAdaptiveSizePolicy")])]),t._v(" "),s("p",[t._v("åœ¨ JDK 8ä¸­ï¼Œ"),s("strong",[t._v("ä¸è¦éšæ„å…³é—­")]),s("code",[t._v("-XX:+UseAdaptiveSizePolicy")]),t._v("ï¼Œé™¤éå¯¹å †å†…å­˜çš„åˆ’åˆ†æœ‰æ˜ç¡®çš„è§„åˆ’")])])]),t._v(" "),s("p",[t._v("æ¯æ¬¡ GC åéƒ½ä¼šé‡æ–°è®¡ç®— Edenã€From Survivorã€To Survivor çš„å¤§å°")]),t._v(" "),s("p",[t._v("è®¡ç®—ä¾æ®æ˜¯"),s("strong",[t._v("GCè¿‡ç¨‹")]),t._v("ä¸­ç»Ÿè®¡çš„"),s("strong",[t._v("GCæ—¶é—´")]),t._v("ã€"),s("strong",[t._v("ååé‡")]),t._v("ã€"),s("strong",[t._v("å†…å­˜å ç”¨é‡")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('java -XX:+PrintFlagsFinal -version | grep HeapSize\n    uintx ErgoHeapSizeLimit                         = 0                                   {product}\n    uintx HeapSizePerGCThread                       = 87241520                            {product}\n    uintx InitialHeapSize                          := 134217728                           {product}\n    uintx LargePageHeapSizeThreshold                = 134217728                           {product}\n    uintx MaxHeapSize                              := 2147483648                          {product}\njava version "1.8.0_211"\nJava(TM) SE Runtime Environment (build 1.8.0_211-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ jmap -heap è¿›ç¨‹å·\n")])])]),s("h3",{attrs:{id:"_4-3-å¯¹è±¡åœ¨å †ä¸­çš„ç”Ÿå‘½å‘¨æœŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-å¯¹è±¡åœ¨å †ä¸­çš„ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" 4.3 å¯¹è±¡åœ¨å †ä¸­çš„ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),s("ol",[s("li",[t._v("åœ¨ JVM å†…å­˜æ¨¡å‹çš„å †ä¸­ï¼Œå †è¢«åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£\n"),s("ul",[s("li",[t._v("æ–°ç”Ÿä»£åˆè¢«è¿›ä¸€æ­¥åˆ’åˆ†ä¸º "),s("strong",[t._v("EdenåŒº")]),t._v(" å’Œ "),s("strong",[t._v("SurvivoråŒº")]),t._v("ï¼ŒSurvivor åŒºç”± "),s("strong",[t._v("From Survivor")]),t._v(" å’Œ "),s("strong",[t._v("To Survivor")]),t._v(" ç»„æˆ")])])]),t._v(" "),s("li",[t._v("å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¼šè¢«ä¼˜å…ˆåˆ†é…åˆ°æ–°ç”Ÿä»£çš„ Eden åŒº\n"),s("ul",[s("li",[t._v("æ­¤æ—¶ JVM ä¼šç»™å¯¹è±¡å®šä¹‰ä¸€ä¸ª"),s("strong",[t._v("å¯¹è±¡å¹´è½»è®¡æ•°å™¨")]),t._v("ï¼ˆ"),s("code",[t._v("-XX:MaxTenuringThreshold")]),t._v("ï¼‰")])])]),t._v(" "),s("li",[t._v("å½“ Eden ç©ºé—´ä¸è¶³æ—¶ï¼ŒJVM å°†æ‰§è¡Œæ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼ˆMinor GCï¼‰\n"),s("ul",[s("li",[t._v("JVM ä¼šæŠŠå­˜æ´»çš„å¯¹è±¡è½¬ç§»åˆ° Survivor ä¸­ï¼Œå¹¶ä¸”å¯¹è±¡å¹´é¾„ +1")]),t._v(" "),s("li",[t._v("å¯¹è±¡åœ¨ Survivor ä¸­åŒæ ·ä¹Ÿä¼šç»å† Minor GCï¼Œæ¯ç»å†ä¸€æ¬¡ Minor GCï¼Œå¯¹è±¡å¹´é¾„éƒ½ä¼š+1")])])]),t._v(" "),s("li",[t._v("å¦‚æœåˆ†é…çš„å¯¹è±¡è¶…è¿‡äº†"),s("code",[t._v("-XX:PetenureSizeThreshold")]),t._v("ï¼Œå¯¹è±¡ä¼š"),s("strong",[t._v("ç›´æ¥è¢«åˆ†é…åˆ°è€å¹´ä»£")])])]),t._v(" "),s("h3",{attrs:{id:"_4-4-å¯¹è±¡çš„åˆ†é…è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-å¯¹è±¡çš„åˆ†é…è¿‡ç¨‹"}},[t._v("#")]),t._v(" 4.4 å¯¹è±¡çš„åˆ†é…è¿‡ç¨‹")]),t._v(" "),s("p",[t._v("ä¸ºå¯¹è±¡åˆ†é…å†…å­˜æ˜¯ä¸€ä»¶éå¸¸ä¸¥è°¨å’Œå¤æ‚çš„ä»»åŠ¡ï¼ŒJVM çš„è®¾è®¡è€…ä»¬ä¸ä»…éœ€è¦è€ƒè™‘å†…å­˜å¦‚ä½•åˆ†é…ã€åœ¨å“ªé‡Œåˆ†é…ç­‰é—®é¢˜ï¼Œå¹¶ä¸”ç”±äºå†…å­˜åˆ†é…ç®—æ³•å’Œå†…å­˜å›æ”¶ç®—æ³•å¯†åˆ‡ç›¸å…³ï¼Œæ‰€ä»¥è¿˜éœ€è¦è€ƒè™‘ GC æ‰§è¡Œå®Œå†…å­˜å›æ”¶åæ˜¯å¦ä¼šåœ¨å†…å­˜ç©ºé—´ä¸­äº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚")]),t._v(" "),s("ol",[s("li",[t._v("new çš„å¯¹è±¡å…ˆæ”¾åœ¨ä¼Šç”¸å›­åŒºï¼Œæ­¤åŒºæœ‰å¤§å°é™åˆ¶")]),t._v(" "),s("li",[t._v("å½“ä¼Šç”¸å›­çš„ç©ºé—´å¡«æ»¡æ—¶ï¼Œç¨‹åºåˆéœ€è¦åˆ›å»ºå¯¹è±¡ï¼ŒJVM çš„åƒåœ¾å›æ”¶å™¨å°†å¯¹ä¼Šç”¸å›­åŒºè¿›è¡Œåƒåœ¾å›æ”¶ï¼ˆMinor GCï¼‰ï¼Œå°†ä¼Šç”¸å›­åŒºä¸­çš„ä¸å†è¢«å…¶ä»–å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡è¿›è¡Œé”€æ¯ã€‚å†åŠ è½½æ–°çš„å¯¹è±¡æ”¾åˆ°ä¼Šç”¸å›­åŒº")]),t._v(" "),s("li",[t._v("ç„¶åå°†ä¼Šç”¸å›­ä¸­çš„å‰©ä½™å¯¹è±¡ç§»åŠ¨åˆ°å¹¸å­˜è€… 0 åŒº")]),t._v(" "),s("li",[t._v("å¦‚æœå†æ¬¡è§¦å‘åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶ä¸Šæ¬¡å¹¸å­˜ä¸‹æ¥çš„æ”¾åˆ°å¹¸å­˜è€… 0 åŒºï¼Œå¦‚æœæ²¡æœ‰å›æ”¶ï¼Œå°±ä¼šæ”¾åˆ°å¹¸å­˜è€… 1 åŒº")]),t._v(" "),s("li",[t._v("å¦‚æœå†æ¬¡ç»å†åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶ä¼šé‡æ–°æ”¾å›å¹¸å­˜è€… 0 åŒºï¼Œæ¥ç€å†å»å¹¸å­˜è€… 1 åŒº")]),t._v(" "),s("li",[t._v("ä»€ä¹ˆæ—¶å€™æ‰ä¼šå»å…»è€åŒºå‘¢ï¼Ÿ é»˜è®¤æ˜¯ 15 æ¬¡å›æ”¶æ ‡è®°")]),t._v(" "),s("li",[t._v("åœ¨å…»è€åŒºï¼Œç›¸å¯¹æ‚ é—²ã€‚å½“å…»è€åŒºå†…å­˜ä¸è¶³æ—¶ï¼Œå†æ¬¡è§¦å‘ Major GCï¼Œè¿›è¡Œå…»è€åŒºçš„å†…å­˜æ¸…ç†")]),t._v(" "),s("li",[t._v("è‹¥å…»è€åŒºæ‰§è¡Œäº† Major GC  ä¹‹åå‘ç°ä¾ç„¶æ— æ³•è¿›è¡Œå¯¹è±¡çš„ä¿å­˜ï¼Œå°±ä¼šäº§ç”Ÿ OOM å¼‚å¸¸")])]),t._v(" "),s("h3",{attrs:{id:"_4-5-gc-åƒåœ¾å›æ”¶ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-gc-åƒåœ¾å›æ”¶ç®€ä»‹"}},[t._v("#")]),t._v(" 4.5 GC åƒåœ¾å›æ”¶ç®€ä»‹")]),t._v(" "),s("h4",{attrs:{id:"minor-gcã€major-gcã€full-gc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minor-gcã€major-gcã€full-gc"}},[t._v("#")]),t._v(" Minor GCã€Major GCã€Full GC")]),t._v(" "),s("p",[t._v("JVM åœ¨è¿›è¡Œ GC æ—¶ï¼Œå¹¶éæ¯æ¬¡éƒ½å¯¹å †å†…å­˜ï¼ˆæ–°ç”Ÿä»£ã€è€å¹´ä»£ï¼›æ–¹æ³•åŒºï¼‰åŒºåŸŸä¸€èµ·å›æ”¶çš„ï¼Œå¤§éƒ¨åˆ†æ—¶å€™å›æ”¶çš„éƒ½æ˜¯æŒ‡æ–°ç”Ÿä»£ã€‚")]),t._v(" "),s("p",[t._v("é’ˆå¯¹ HotSpot VM çš„å®ç°ï¼Œå®ƒé‡Œé¢çš„ GC æŒ‰ç…§å›æ”¶åŒºåŸŸåˆåˆ†ä¸ºä¸¤å¤§ç±»ï¼šéƒ¨åˆ†æ”¶é›†ï¼ˆPartial GCï¼‰ï¼Œæ•´å †æ”¶é›†ï¼ˆFull  GCï¼‰")]),t._v(" "),s("ul",[s("li",[t._v("éƒ¨åˆ†æ”¶é›†ï¼šä¸æ˜¯å®Œæ•´æ”¶é›†æ•´ä¸ª Java å †çš„åƒåœ¾æ”¶é›†ã€‚å…¶ä¸­åˆåˆ†ä¸ºï¼š\n"),s("ul",[s("li",[t._v("æ–°ç”Ÿä»£æ”¶é›†ï¼ˆMinor GC/Young GCï¼‰ï¼šåªæ˜¯æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†")]),t._v(" "),s("li",[t._v("è€å¹´ä»£æ”¶é›†ï¼ˆMajor GC/Old GCï¼‰ï¼šåªæ˜¯è€å¹´ä»£çš„åƒåœ¾æ”¶é›†\n"),s("ul",[s("li",[t._v("ç›®å‰ï¼Œåªæœ‰ CMS GC ä¼šæœ‰å•ç‹¬æ”¶é›†è€å¹´ä»£çš„è¡Œä¸º")]),t._v(" "),s("li",[t._v("å¾ˆå¤šæ—¶å€™ Major GC ä¼šå’Œ Full GC  æ··åˆä½¿ç”¨ï¼Œéœ€è¦å…·ä½“åˆ†è¾¨æ˜¯è€å¹´ä»£å›æ”¶è¿˜æ˜¯æ•´å †å›æ”¶")])])]),t._v(" "),s("li",[t._v("æ··åˆæ”¶é›†ï¼ˆMixed GCï¼‰ï¼šæ”¶é›†æ•´ä¸ªæ–°ç”Ÿä»£ä»¥åŠéƒ¨åˆ†è€å¹´ä»£çš„åƒåœ¾æ”¶é›†\n"),s("ul",[s("li",[t._v("ç›®å‰åªæœ‰ G1 GC ä¼šæœ‰è¿™ç§è¡Œä¸º")])])])])]),t._v(" "),s("li",[t._v("æ•´å †æ”¶é›†ï¼ˆFull GCï¼‰ï¼šæ”¶é›†æ•´ä¸ª Java å †å’Œæ–¹æ³•åŒºçš„åƒåœ¾")])]),t._v(" "),s("h3",{attrs:{id:"_4-6-tlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-tlab"}},[t._v("#")]),t._v(" 4.6 TLAB")]),t._v(" "),s("p",[t._v("Thread Local Allocation Buffer çš„ç®€å†™ï¼ŒåŸºäº CAS çš„ç‹¬äº«çº¿ç¨‹ï¼ˆMutator Threadsï¼‰å¯ä»¥ä¼˜å…ˆå°†å¯¹è±¡åˆ†é…åœ¨ Eden ä¸­çš„ä¸€å—å†…å­˜ï¼Œå› ä¸ºæ˜¯ Java çº¿ç¨‹ç‹¬äº«çš„å†…å­˜åŒºæ²¡æœ‰é”ç«äº‰ï¼Œæ‰€ä»¥åˆ†é…é€Ÿåº¦æ›´å¿«ï¼Œæ¯ä¸ª TLAB éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ç‹¬äº«çš„ã€‚")]),t._v(" "),s("h4",{attrs:{id:"ä»€ä¹ˆæ˜¯-tlab-thread-local-allocation-buffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-tlab-thread-local-allocation-buffer"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ TLAB ï¼ˆThread Local Allocation Bufferï¼‰?")]),t._v(" "),s("ul",[s("li",[t._v("ä»å†…å­˜æ¨¡å‹è€Œä¸æ˜¯åƒåœ¾å›æ”¶çš„è§’åº¦ï¼Œå¯¹ Eden åŒºåŸŸç»§ç»­è¿›è¡Œåˆ’åˆ†ï¼ŒJVM ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…äº†ä¸€ä¸ªç§æœ‰ç¼“å­˜åŒºåŸŸï¼Œå®ƒåŒ…å«åœ¨ Eden ç©ºé—´å†…")]),t._v(" "),s("li",[t._v("å¤šçº¿ç¨‹åŒæ—¶åˆ†é…å†…å­˜æ—¶ï¼Œä½¿ç”¨ TLAB å¯ä»¥é¿å…ä¸€ç³»åˆ—çš„éçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼ŒåŒæ—¶è¿˜èƒ½æå‡å†…å­˜åˆ†é…çš„ååé‡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ç§å†…å­˜åˆ†é…æ–¹å¼ç§°ä¸º"),s("strong",[t._v("å¿«é€Ÿåˆ†é…ç­–ç•¥")])]),t._v(" "),s("li",[t._v("OpenJDK è¡ç”Ÿå‡ºæ¥çš„ JVM å¤§éƒ½æä¾›äº† TLAB è®¾è®¡")])]),t._v(" "),s("h4",{attrs:{id:"ä¸ºä»€ä¹ˆè¦æœ‰-tlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦æœ‰-tlab"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦æœ‰ TLAB ?")]),t._v(" "),s("ul",[s("li",[t._v("å †åŒºæ˜¯çº¿ç¨‹å…±äº«çš„ï¼Œä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®åˆ°å †åŒºä¸­çš„å…±äº«æ•°æ®")]),t._v(" "),s("li",[t._v("ç”±äºå¯¹è±¡å®ä¾‹çš„åˆ›å»ºåœ¨ JVM ä¸­éå¸¸é¢‘ç¹ï¼Œå› æ­¤åœ¨å¹¶å‘ç¯å¢ƒä¸‹ä»å †åŒºä¸­åˆ’åˆ†å†…å­˜ç©ºé—´æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„")]),t._v(" "),s("li",[t._v("ä¸ºé¿å…å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€åœ°å€ï¼Œéœ€è¦ä½¿ç”¨åŠ é”ç­‰æœºåˆ¶ï¼Œè¿›è€Œå½±å“åˆ†é…é€Ÿåº¦")])]),t._v(" "),s("p",[t._v("å°½ç®¡ä¸æ˜¯æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½èƒ½å¤Ÿåœ¨ TLAB ä¸­æˆåŠŸåˆ†é…å†…å­˜ï¼Œä½† JVM ç¡®å®æ˜¯å°† TLAB ä½œä¸ºå†…å­˜åˆ†é…çš„é¦–é€‰ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ç¨‹åºä¸­ï¼Œå¯ä»¥é€šè¿‡ "),s("code",[t._v("-XX:UseTLAB")]),t._v(" è®¾ç½®æ˜¯å¦å¼€å¯ TLAB ç©ºé—´ã€‚")]),t._v(" "),s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒTLAB ç©ºé—´çš„å†…å­˜éå¸¸å°ï¼Œä»…å æœ‰æ•´ä¸ª Eden ç©ºé—´çš„ 1%ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ "),s("code",[t._v("-XX:TLABWasteTargetPercent")]),t._v(" è®¾ç½® TLAB ç©ºé—´æ‰€å ç”¨ Eden ç©ºé—´çš„ç™¾åˆ†æ¯”å¤§å°ã€‚")]),t._v(" "),s("p",[t._v("ä¸€æ—¦å¯¹è±¡åœ¨ TLAB ç©ºé—´åˆ†é…å†…å­˜å¤±è´¥æ—¶ï¼ŒJVM å°±ä¼šå°è¯•ç€é€šè¿‡ä½¿ç”¨åŠ é”æœºåˆ¶ç¡®ä¿æ•°æ®æ“ä½œçš„åŸå­æ€§ï¼Œä»è€Œç›´æ¥åœ¨ Eden ç©ºé—´ä¸­åˆ†é…å†…å­˜ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_4-7-å †æ˜¯åˆ†é…å¯¹è±¡å­˜å‚¨çš„å”¯ä¸€é€‰æ‹©å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-å †æ˜¯åˆ†é…å¯¹è±¡å­˜å‚¨çš„å”¯ä¸€é€‰æ‹©å—"}},[t._v("#")]),t._v(" 4.7 å †æ˜¯åˆ†é…å¯¹è±¡å­˜å‚¨çš„å”¯ä¸€é€‰æ‹©å—")]),t._v(" "),s("blockquote",[s("p",[t._v("éšç€ JIT ç¼–è¯‘æœŸçš„å‘å±•å’Œé€ƒé€¸åˆ†ææŠ€æœ¯çš„é€æ¸æˆç†Ÿï¼Œæ ˆä¸Šåˆ†é…ã€æ ‡é‡æ›¿æ¢ä¼˜åŒ–æŠ€æœ¯å°†ä¼šå¯¼è‡´ä¸€äº›å¾®å¦™çš„å˜åŒ–ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½åˆ†é…åˆ°å †ä¸Šä¹Ÿæ¸æ¸å˜å¾—ä¸é‚£ä¹ˆâ€œç»å¯¹â€äº†ã€‚  â€”â€”ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹")])]),t._v(" "),s("h4",{attrs:{id:"é€ƒé€¸åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é€ƒé€¸åˆ†æ"}},[t._v("#")]),t._v(" é€ƒé€¸åˆ†æ")]),t._v(" "),s("p",[s("strong",[t._v("é€ƒé€¸åˆ†æ(Escape Analysis)"),s("strong",[t._v("æ˜¯ç›®å‰ Java è™šæ‹Ÿæœºä¸­æ¯”è¾ƒå‰æ²¿çš„ä¼˜åŒ–æŠ€æœ¯")]),t._v("ã€‚è¿™æ˜¯ä¸€ç§å¯ä»¥æœ‰æ•ˆå‡å°‘ Java ç¨‹åºä¸­åŒæ­¥è´Ÿè½½å’Œå†…å­˜å †åˆ†é…å‹åŠ›çš„è·¨å‡½æ•°å…¨å±€æ•°æ®æµåˆ†æç®—æ³•")]),t._v("ã€‚é€šè¿‡é€ƒé€¸åˆ†æï¼ŒJava Hotspot ç¼–è¯‘å™¨èƒ½å¤Ÿåˆ†æå‡ºä¸€ä¸ªæ–°çš„å¯¹è±¡çš„å¼•ç”¨çš„ä½¿ç”¨èŒƒå›´ä»è€Œå†³å®šæ˜¯å¦è¦å°†è¿™ä¸ªå¯¹è±¡åˆ†é…åˆ°å †ä¸Šã€‚")]),t._v(" "),s("p",[t._v("é€ƒé€¸åˆ†æçš„åŸºæœ¬è¡Œä¸ºå°±æ˜¯åˆ†æå¯¹è±¡åŠ¨æ€ä½œç”¨åŸŸï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•ä¸­è¢«å®šä¹‰åï¼Œå¯¹è±¡åªåœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ï¼Œåˆ™è®¤ä¸ºæ²¡æœ‰å‘ç”Ÿé€ƒé€¸ã€‚")]),t._v(" "),s("li",[t._v("å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•ä¸­è¢«å®šä¹‰åï¼Œå®ƒè¢«å¤–éƒ¨æ–¹æ³•æ‰€å¼•ç”¨ï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿé€ƒé€¸ã€‚ä¾‹å¦‚ä½œä¸ºè°ƒç”¨å‚æ•°ä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ä¸­ï¼Œç§°ä¸ºæ–¹æ³•é€ƒé€¸ã€‚")])]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("craeteStringBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),t._v(" sb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("StringBuffer sb")]),t._v("æ˜¯ä¸€ä¸ªæ–¹æ³•å†…éƒ¨å˜é‡ï¼Œä¸Šè¿°ä»£ç ä¸­ç›´æ¥å°†sbè¿”å›ï¼Œè¿™æ ·è¿™ä¸ª StringBuffer æœ‰å¯èƒ½è¢«å…¶ä»–æ–¹æ³•æ‰€æ”¹å˜ï¼Œè¿™æ ·å®ƒçš„ä½œç”¨åŸŸå°±ä¸åªæ˜¯åœ¨æ–¹æ³•å†…éƒ¨ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç§°å…¶é€ƒé€¸åˆ°äº†æ–¹æ³•å¤–éƒ¨ã€‚ç”šè‡³è¿˜æœ‰å¯èƒ½è¢«å¤–éƒ¨çº¿ç¨‹è®¿é—®åˆ°ï¼Œè­¬å¦‚èµ‹å€¼ç»™ç±»å˜é‡æˆ–å¯ä»¥åœ¨å…¶ä»–çº¿ç¨‹ä¸­è®¿é—®çš„å®ä¾‹å˜é‡ï¼Œç§°ä¸ºçº¿ç¨‹é€ƒé€¸ã€‚")]),t._v(" "),s("p",[t._v("ä¸Šè¿°ä»£ç å¦‚æœæƒ³è¦ "),s("code",[t._v("StringBuffer sb")]),t._v("ä¸é€ƒå‡ºæ–¹æ³•ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStringBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),t._v(" sb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä¸ç›´æ¥è¿”å› StringBufferï¼Œé‚£ä¹ˆ StringBuffer å°†ä¸ä¼šé€ƒé€¸å‡ºæ–¹æ³•ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å‚æ•°è®¾ç½®ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("åœ¨ JDK 6u23 ç‰ˆæœ¬ä¹‹åï¼ŒHotSpot ä¸­é»˜è®¤å°±å·²ç»å¼€å¯äº†é€ƒé€¸åˆ†æ")]),t._v(" "),s("li",[t._v("å¦‚æœä½¿ç”¨è¾ƒæ—©ç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡"),s("code",[t._v('-XX"+DoEscapeAnalysis')]),t._v("æ˜¾å¼å¼€å¯")])]),t._v(" "),s("p",[t._v("å¼€å‘ä¸­ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œå°±ä¸è¦åœ¨æ–¹æ³•å¤–å®šä¹‰ã€‚")]),t._v(" "),s("p",[t._v("ä½¿ç”¨é€ƒé€¸åˆ†æï¼Œç¼–è¯‘å™¨å¯ä»¥å¯¹ä»£ç åšä¼˜åŒ–ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ ˆä¸Šåˆ†é…")]),t._v("ï¼šå°†å †åˆ†é…è½¬åŒ–ä¸ºæ ˆåˆ†é…ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡åœ¨å­ç¨‹åºä¸­è¢«åˆ†é…ï¼Œè¦ä½¿æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆæ°¸è¿œä¸ä¼šé€ƒé€¸ï¼Œå¯¹è±¡å¯èƒ½æ˜¯æ ˆåˆ†é…çš„å€™é€‰ï¼Œè€Œä¸æ˜¯å †åˆ†é…")]),t._v(" "),s("li",[s("strong",[t._v("åŒæ­¥çœç•¥")]),t._v("ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡è¢«å‘ç°åªèƒ½ä»ä¸€ä¸ªçº¿ç¨‹è¢«è®¿é—®åˆ°ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå¯¹è±¡çš„æ“ä½œå¯ä»¥ä¸è€ƒè™‘åŒæ­¥")]),t._v(" "),s("li",[s("strong",[t._v("åˆ†ç¦»å¯¹è±¡æˆ–æ ‡é‡æ›¿æ¢")]),t._v("ï¼šæœ‰çš„å¯¹è±¡å¯èƒ½ä¸éœ€è¦ä½œä¸ºä¸€ä¸ªè¿ç»­çš„å†…å­˜ç»“æ„å­˜åœ¨ä¹Ÿå¯ä»¥è¢«è®¿é—®åˆ°ï¼Œé‚£ä¹ˆå¯¹è±¡çš„éƒ¨åˆ†ï¼ˆæˆ–å…¨éƒ¨ï¼‰å¯ä»¥ä¸å­˜å‚¨åœ¨å†…å­˜ï¼Œè€Œå­˜å‚¨åœ¨ CPU å¯„å­˜å™¨")])]),t._v(" "),s("p",[t._v("JIT ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´æ ¹æ®é€ƒé€¸åˆ†æçš„ç»“æœï¼Œå‘ç°å¦‚æœä¸€ä¸ªå¯¹è±¡å¹¶æ²¡æœ‰é€ƒé€¸å‡ºæ–¹æ³•çš„è¯ï¼Œå°±å¯èƒ½è¢«ä¼˜åŒ–æˆæ ˆä¸Šåˆ†é…ã€‚åˆ†é…å®Œæˆåï¼Œç»§ç»­åœ¨è°ƒç”¨æ ˆå†…æ‰§è¡Œï¼Œæœ€åçº¿ç¨‹ç»“æŸï¼Œæ ˆç©ºé—´è¢«å›æ”¶ï¼Œå±€éƒ¨å˜é‡å¯¹è±¡ä¹Ÿè¢«å›æ”¶ã€‚è¿™æ ·å°±æ— éœ€è¿›è¡Œåƒåœ¾å›æ”¶äº†ã€‚")]),t._v(" "),s("p",[t._v("å¸¸è§æ ˆä¸Šåˆ†é…çš„åœºæ™¯ï¼šæˆå‘˜å˜é‡èµ‹å€¼ã€æ–¹æ³•è¿”å›å€¼ã€å®ä¾‹å¼•ç”¨ä¼ é€’")]),t._v(" "),s("h5",{attrs:{id:"ä»£ç ä¼˜åŒ–ä¹‹åŒæ­¥çœç•¥-æ¶ˆé™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç ä¼˜åŒ–ä¹‹åŒæ­¥çœç•¥-æ¶ˆé™¤"}},[t._v("#")]),t._v(" ä»£ç ä¼˜åŒ–ä¹‹åŒæ­¥çœç•¥ï¼ˆæ¶ˆé™¤ï¼‰")]),t._v(" "),s("ul",[s("li",[t._v("çº¿ç¨‹åŒæ­¥çš„ä»£ä»·æ˜¯ç›¸å½“é«˜çš„ï¼ŒåŒæ­¥çš„åæœæ˜¯é™ä½å¹¶å‘æ€§å’Œæ€§èƒ½")]),t._v(" "),s("li",[t._v("åœ¨åŠ¨æ€ç¼–è¯‘åŒæ­¥å—çš„æ—¶å€™ï¼ŒJIT ç¼–è¯‘å™¨å¯ä»¥å€ŸåŠ©é€ƒé€¸åˆ†ææ¥åˆ¤æ–­åŒæ­¥å—æ‰€ä½¿ç”¨çš„é”å¯¹è±¡æ˜¯å¦èƒ½å¤Ÿè¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®è€Œæ²¡æœ‰è¢«å‘å¸ƒåˆ°å…¶ä»–çº¿ç¨‹ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆ JIT ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿™ä¸ªåŒæ­¥å—çš„æ—¶å€™å°±ä¼šå–æ¶ˆå¯¹è¿™ä¸ªä»£ç çš„åŒæ­¥ã€‚è¿™æ ·å°±èƒ½å¤§å¤§æé«˜å¹¶å‘æ€§å’Œæ€§èƒ½ã€‚è¿™ä¸ªå–æ¶ˆåŒæ­¥çš„è¿‡ç¨‹å°±å«åš"),s("strong",[t._v("åŒæ­¥çœç•¥ï¼Œä¹Ÿå«é”æ¶ˆé™¤")]),t._v("ã€‚")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" keeper "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("synchronized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keeper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keeper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚ä¸Šä»£ç ï¼Œä»£ç ä¸­å¯¹ keeper è¿™ä¸ªå¯¹è±¡è¿›è¡ŒåŠ é”ï¼Œä½†æ˜¯ keeper å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåªåœ¨ "),s("code",[t._v("keep()")]),t._v("æ–¹æ³•ä¸­ï¼Œå¹¶ä¸ä¼šè¢«å…¶ä»–çº¿ç¨‹æ‰€è®¿é—®åˆ°ï¼Œæ‰€ä»¥åœ¨ JITç¼–è¯‘é˜¶æ®µå°±ä¼šè¢«ä¼˜åŒ–æ‰ã€‚ä¼˜åŒ–æˆï¼š")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" keeper "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keeper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"ä»£ç ä¼˜åŒ–ä¹‹æ ‡é‡æ›¿æ¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç ä¼˜åŒ–ä¹‹æ ‡é‡æ›¿æ¢"}},[t._v("#")]),t._v(" ä»£ç ä¼˜åŒ–ä¹‹æ ‡é‡æ›¿æ¢")]),t._v(" "),s("p",[s("strong",[t._v("æ ‡é‡")]),t._v("ï¼ˆScalarï¼‰æ˜¯æŒ‡ä¸€ä¸ªæ— æ³•å†åˆ†è§£æˆæ›´å°çš„æ•°æ®çš„æ•°æ®ã€‚Java ä¸­çš„åŸå§‹æ•°æ®ç±»å‹å°±æ˜¯æ ‡é‡ã€‚")]),t._v(" "),s("p",[t._v("ç›¸å¯¹çš„ï¼Œé‚£äº›çš„è¿˜å¯ä»¥åˆ†è§£çš„æ•°æ®å«åš"),s("strong",[t._v("èšåˆé‡")]),t._v("ï¼ˆAggregateï¼‰ï¼ŒJava ä¸­çš„å¯¹è±¡å°±æ˜¯èšåˆé‡ï¼Œå› ä¸ºå…¶è¿˜å¯ä»¥åˆ†è§£æˆå…¶ä»–èšåˆé‡å’Œæ ‡é‡ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ JIT é˜¶æ®µï¼Œé€šè¿‡é€ƒé€¸åˆ†æç¡®å®šè¯¥å¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ï¼Œå¹¶ä¸”å¯¹è±¡å¯ä»¥è¢«è¿›ä¸€æ­¥åˆ†è§£æ—¶ï¼ŒJVM ä¸ä¼šåˆ›å»ºè¯¥å¯¹è±¡ï¼Œè€Œä¼šå°†è¯¥å¯¹è±¡æˆå‘˜å˜é‡åˆ†è§£è‹¥å¹²ä¸ªè¢«è¿™ä¸ªæ–¹æ³•ä½¿ç”¨çš„æˆå‘˜å˜é‡æ‰€ä»£æ›¿ã€‚è¿™äº›ä»£æ›¿çš„æˆå‘˜å˜é‡åœ¨æ ˆå¸§æˆ–å¯„å­˜å™¨ä¸Šåˆ†é…ç©ºé—´ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯"),s("strong",[t._v("æ ‡é‡æ›¿æ¢")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("é€šè¿‡ "),s("code",[t._v("-XX:+EliminateAllocations")]),t._v(" å¯ä»¥å¼€å¯æ ‡é‡æ›¿æ¢ï¼Œ"),s("code",[t._v("-XX:+PrintEliminateAllocations")]),t._v(" æŸ¥çœ‹æ ‡é‡æ›¿æ¢æƒ…å†µã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alloc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alloc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),t._v(" point "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),t._v("ï¼ˆ"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("ï¼‰"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"point.x="')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("point"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"; point.y="')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("point"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä»¥ä¸Šä»£ç ä¸­ï¼Œpoint å¯¹è±¡å¹¶æ²¡æœ‰é€ƒé€¸å‡º "),s("code",[t._v("alloc()")]),t._v(" æ–¹æ³•ï¼Œå¹¶ä¸” point å¯¹è±¡æ˜¯å¯ä»¥æ‹†è§£æˆæ ‡é‡çš„ã€‚é‚£ä¹ˆï¼ŒJIT å°±ä¸ä¼šç›´æ¥åˆ›å»º Point å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ä¸¤ä¸ªæ ‡é‡ int x ï¼Œint y æ¥æ›¿ä»£ Point å¯¹è±¡ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alloc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"point.x="')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"; point.y="')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h5",{attrs:{id:"ä»£ç ä¼˜åŒ–ä¹‹æ ˆä¸Šåˆ†é…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç ä¼˜åŒ–ä¹‹æ ˆä¸Šåˆ†é…"}},[t._v("#")]),t._v(" ä»£ç ä¼˜åŒ–ä¹‹æ ˆä¸Šåˆ†é…")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬é€šè¿‡ JVM å†…å­˜åˆ†é…å¯ä»¥çŸ¥é“ JAVA ä¸­çš„å¯¹è±¡éƒ½æ˜¯åœ¨å †ä¸Šè¿›è¡Œåˆ†é…ï¼Œå½“å¯¹è±¡æ²¡æœ‰è¢«å¼•ç”¨çš„æ—¶å€™ï¼Œéœ€è¦ä¾é  GC è¿›è¡Œå›æ”¶å†…å­˜ï¼Œå¦‚æœå¯¹è±¡æ•°é‡è¾ƒå¤šçš„æ—¶å€™ï¼Œä¼šç»™ GC å¸¦æ¥è¾ƒå¤§å‹åŠ›ï¼Œä¹Ÿé—´æ¥å½±å“äº†åº”ç”¨çš„æ€§èƒ½ã€‚ä¸ºäº†å‡å°‘ä¸´æ—¶å¯¹è±¡åœ¨å †å†…åˆ†é…çš„æ•°é‡ï¼ŒJVM é€šè¿‡é€ƒé€¸åˆ†æç¡®å®šè¯¥å¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ã€‚é‚£å°±é€šè¿‡æ ‡é‡æ›¿æ¢å°†è¯¥å¯¹è±¡åˆ†è§£åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œè¿™æ ·è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´å°±å¯ä»¥éšæ ˆå¸§å‡ºæ ˆè€Œé”€æ¯ï¼Œå°±å‡è½»äº†åƒåœ¾å›æ”¶çš„å‹åŠ›ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("æ€»ç»“ï¼š")])]),t._v(" "),s("p",[t._v("å…³äºé€ƒé€¸åˆ†æçš„è®ºæ–‡åœ¨1999å¹´å°±å·²ç»å‘è¡¨äº†ï¼Œä½†ç›´åˆ°JDK 1.6æ‰æœ‰å®ç°ï¼Œè€Œä¸”è¿™é¡¹æŠ€æœ¯åˆ°å¦‚ä»Šä¹Ÿå¹¶ä¸æ˜¯ååˆ†æˆç†Ÿçš„ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å…¶æ ¹æœ¬åŸå› å°±æ˜¯æ— æ³•ä¿è¯é€ƒé€¸åˆ†æçš„æ€§èƒ½æ¶ˆè€—ä¸€å®šèƒ½é«˜äºä»–çš„æ¶ˆè€—ã€‚è™½ç„¶ç»è¿‡é€ƒé€¸åˆ†æå¯ä»¥åšæ ‡é‡æ›¿æ¢ã€æ ˆä¸Šåˆ†é…ã€å’Œé”æ¶ˆé™¤ã€‚ä½†æ˜¯é€ƒé€¸åˆ†æè‡ªèº«ä¹Ÿæ˜¯éœ€è¦è¿›è¡Œä¸€ç³»åˆ—å¤æ‚çš„åˆ†æçš„ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹è€—æ—¶çš„è¿‡ç¨‹ã€‚")])]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼Œå°±æ˜¯ç»è¿‡é€ƒé€¸åˆ†æä¹‹åï¼Œå‘ç°æ²¡æœ‰ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸é€ƒé€¸çš„ã€‚é‚£è¿™ä¸ªé€ƒé€¸åˆ†æçš„è¿‡ç¨‹å°±ç™½ç™½æµªè´¹æ‰äº†ã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶è¿™é¡¹æŠ€æœ¯å¹¶ä¸ååˆ†æˆç†Ÿï¼Œä½†æ˜¯ä»–ä¹Ÿæ˜¯å³æ—¶ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ä¸­ä¸€ä¸ªååˆ†é‡è¦çš„æ‰‹æ®µã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"äº”ã€æ–¹æ³•åŒº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€æ–¹æ³•åŒº"}},[t._v("#")]),t._v(" äº”ã€æ–¹æ³•åŒº")]),t._v(" "),s("ul",[s("li",[t._v("æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ä¸ Java å †ä¸€æ ·ï¼Œæ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸã€‚")]),t._v(" "),s("li",[t._v("è™½ç„¶ Java è™šæ‹Ÿæœºè§„èŒƒæŠŠæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´æœ‰ä¸€ä¸ªåˆ«åå« Non-Heapï¼ˆéå †ï¼‰ï¼Œç›®çš„åº”è¯¥æ˜¯ä¸ Java å †åŒºåˆ†å¼€ã€‚")]),t._v(" "),s("li",[t._v("è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬/å­—æ®µ/æ–¹æ³•/æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯æ˜¯å¸¸é‡æ± ï¼ˆConstant Pool Tableï¼‰ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œè¿™éƒ¨åˆ†å†…å®¹å°†ç±»åœ¨åŠ è½½åè¿›å…¥æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­å­˜æ”¾ã€‚è¿è¡ŒæœŸé—´ä¹Ÿå¯èƒ½å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­ï¼Œè¿™ç§ç‰¹æ€§è¢«å¼€å‘äººå‘˜åˆ©ç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯ "),s("code",[t._v("String.intern()")]),t._v("æ–¹æ³•ã€‚å—æ–¹æ³•åŒºå†…å­˜çš„é™åˆ¶ï¼Œå½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶ä¼šæŠ›å‡º "),s("code",[t._v("OutOfMemoryError")]),t._v(" å¼‚å¸¸ã€‚")]),t._v(" "),s("li",[t._v("æ–¹æ³•åŒºçš„å¤§å°å’Œå †ç©ºé—´ä¸€æ ·ï¼Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°ä¹Ÿå¯é€‰æ‹©å¯æ‰©å±•ï¼Œæ–¹æ³•åŒºçš„å¤§å°å†³å®šäº†ç³»ç»Ÿå¯ä»¥æ”¾å¤šå°‘ä¸ªç±»ï¼Œå¦‚æœç³»ç»Ÿç±»å¤ªå¤šï¼Œå¯¼è‡´æ–¹æ³•åŒºæº¢å‡ºï¼Œè™šæ‹ŸæœºåŒæ ·ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºé”™è¯¯")]),t._v(" "),s("li",[t._v("JVM å…³é—­åæ–¹æ³•åŒºå³è¢«é‡Šæ”¾")])]),t._v(" "),s("h3",{attrs:{id:"_5-1-è§£æƒ‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-è§£æƒ‘"}},[t._v("#")]),t._v(" 5.1 è§£æƒ‘")]),t._v(" "),s("p",[t._v("ä½ æ˜¯å¦ä¹Ÿæœ‰çœ‹ä¸åŒçš„å‚è€ƒèµ„æ–™ï¼Œæœ‰çš„å†…å­˜ç»“æ„å›¾æœ‰æ–¹æ³•åŒºï¼Œæœ‰çš„åˆæ˜¯æ°¸ä¹…ä»£ï¼Œå…ƒæ•°æ®åŒºï¼Œä¸€è„¸æ‡µé€¼çš„æ—¶å€™ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ–¹æ³•åŒºï¼ˆmethod areaï¼‰"),s("strong",[t._v("åªæ˜¯ "),s("strong",[t._v("JVM è§„èŒƒ")]),t._v("ä¸­å®šä¹‰çš„ä¸€ä¸ª")]),t._v("æ¦‚å¿µ")]),t._v("ï¼Œç”¨äºå­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡æ± ã€é™æ€å˜é‡ã€JITç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ï¼Œå¹¶æ²¡æœ‰è§„å®šå¦‚ä½•å»å®ç°å®ƒï¼Œä¸åŒçš„å‚å•†æœ‰ä¸åŒçš„å®ç°ã€‚è€Œ"),s("strong",[t._v("æ°¸ä¹…ä»£ï¼ˆPermGenï¼‰"),s("strong",[t._v("æ˜¯ "),s("strong",[t._v("Hotspot")]),t._v(" è™šæ‹Ÿæœºç‰¹æœ‰çš„æ¦‚å¿µï¼Œ Java8 çš„æ—¶å€™åˆè¢«")]),t._v("å…ƒç©ºé—´")]),t._v("å–ä»£äº†ï¼Œæ°¸ä¹…ä»£å’Œå…ƒç©ºé—´éƒ½å¯ä»¥ç†è§£ä¸ºæ–¹æ³•åŒºçš„è½åœ°å®ç°ã€‚")]),t._v(" "),s("li",[t._v("æ°¸ä¹…ä»£ç‰©ç†æ˜¯å †çš„ä¸€éƒ¨åˆ†ï¼Œå’Œæ–°ç”Ÿä»£ï¼Œè€å¹´ä»£åœ°å€æ˜¯è¿ç»­çš„ï¼ˆå—åƒåœ¾å›æ”¶å™¨ç®¡ç†ï¼‰ï¼Œè€Œå…ƒç©ºé—´å­˜åœ¨äºæœ¬åœ°å†…å­˜ï¼ˆæˆ‘ä»¬å¸¸è¯´çš„å †å¤–å†…å­˜ï¼Œä¸å—åƒåœ¾å›æ”¶å™¨ç®¡ç†ï¼‰ï¼Œè¿™æ ·å°±ä¸å— JVM é™åˆ¶äº†ï¼Œä¹Ÿæ¯”è¾ƒéš¾å‘ç”ŸOOMï¼ˆéƒ½ä¼šæœ‰æº¢å‡ºå¼‚å¸¸ï¼‰")]),t._v(" "),s("li",[t._v("Java7 ä¸­æˆ‘ä»¬é€šè¿‡"),s("code",[t._v("-XX:PermSize")]),t._v(" å’Œ "),s("code",[t._v("-xx:MaxPermSize")]),t._v(" æ¥è®¾ç½®æ°¸ä¹…ä»£å‚æ•°ï¼ŒJava8 ä¹‹åï¼Œéšç€æ°¸ä¹…ä»£çš„å–æ¶ˆï¼Œè¿™äº›å‚æ•°ä¹Ÿå°±éšä¹‹å¤±æ•ˆäº†ï¼Œæ”¹ä¸ºé€šè¿‡"),s("code",[t._v("-XX:MetaspaceSize")]),t._v(" å’Œ "),s("code",[t._v("-XX:MaxMetaspaceSize")]),t._v(" ç”¨æ¥è®¾ç½®å…ƒç©ºé—´å‚æ•°")]),t._v(" "),s("li",[t._v("å­˜å‚¨å†…å®¹ä¸åŒï¼Œå…ƒç©ºé—´å­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ï¼Œé™æ€å˜é‡å’Œå¸¸é‡æ± ç­‰å¹¶å…¥å †ä¸­ã€‚ç›¸å½“äºæ°¸ä¹…ä»£çš„æ•°æ®è¢«åˆ†åˆ°äº†å †å’Œå…ƒç©ºé—´ä¸­")]),t._v(" "),s("li",[t._v("å¦‚æœæ–¹æ³•åŒºåŸŸä¸­çš„å†…å­˜ä¸èƒ½ç”¨äºæ»¡è¶³åˆ†é…è¯·æ±‚ï¼Œåˆ™ Java è™šæ‹ŸæœºæŠ›å‡º "),s("code",[t._v("OutOfMemoryError")])]),t._v(" "),s("li",[t._v("JVM è§„èŒƒè¯´æ–¹æ³•åŒºåœ¨é€»è¾‘ä¸Šæ˜¯å †çš„ä¸€éƒ¨åˆ†ï¼Œä½†ç›®å‰å®é™…ä¸Šæ˜¯ä¸ Java å †åˆ†å¼€çš„ï¼ˆNon-Heapï¼‰")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥å¯¹äºæ–¹æ³•åŒºï¼ŒJava8 ä¹‹åçš„å˜åŒ–ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç§»é™¤äº†æ°¸ä¹…ä»£ï¼ˆPermGenï¼‰ï¼Œæ›¿æ¢ä¸ºå…ƒç©ºé—´ï¼ˆMetaspaceï¼‰ï¼›")]),t._v(" "),s("li",[t._v("æ°¸ä¹…ä»£ä¸­çš„ class metadata è½¬ç§»åˆ°äº† native memoryï¼ˆæœ¬åœ°å†…å­˜ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿæœºï¼‰ï¼›")]),t._v(" "),s("li",[t._v("æ°¸ä¹…ä»£ä¸­çš„ interned Strings å’Œ class static variables è½¬ç§»åˆ°äº† Java heapï¼›")]),t._v(" "),s("li",[t._v("æ°¸ä¹…ä»£å‚æ•° ï¼ˆPermSize MaxPermSizeï¼‰ -> å…ƒç©ºé—´å‚æ•°ï¼ˆMetaspaceSize MaxMetaspaceSizeï¼‰")])]),t._v(" "),s("h3",{attrs:{id:"_5-2-è®¾ç½®æ–¹æ³•åŒºå†…å­˜çš„å¤§å°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-è®¾ç½®æ–¹æ³•åŒºå†…å­˜çš„å¤§å°"}},[t._v("#")]),t._v(" 5.2 è®¾ç½®æ–¹æ³•åŒºå†…å­˜çš„å¤§å°")]),t._v(" "),s("p",[t._v("JDK8 åŠä»¥åï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å…ƒæ•°æ®åŒºå¤§å°å¯ä»¥ä½¿ç”¨å‚æ•° "),s("code",[t._v("-XX:MetaspaceSize")]),t._v(" å’Œ "),s("code",[t._v("-XX:MaxMetaspaceSize")]),t._v(" æŒ‡å®šï¼Œæ›¿ä»£ä¸Šè¿°åŸæœ‰çš„ä¸¤ä¸ªå‚æ•°")]),t._v(" "),s("li",[t._v("é»˜è®¤å€¼ä¾èµ–äºå¹³å°ã€‚Windows ä¸‹ï¼Œ"),s("code",[t._v("-XX:MetaspaceSize")]),t._v(" æ˜¯ 21Mï¼Œ"),s("code",[t._v("-XX:MaxMetaspacaSize")]),t._v(" çš„å€¼æ˜¯ -1ï¼Œå³æ²¡æœ‰é™åˆ¶")]),t._v(" "),s("li",[t._v("ä¸æ°¸ä¹…ä»£ä¸åŒï¼Œå¦‚æœä¸æŒ‡å®šå¤§å°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè™šæ‹Ÿæœºä¼šè€—å°½æ‰€æœ‰çš„å¯ç”¨ç³»ç»Ÿå†…å­˜ã€‚å¦‚æœå…ƒæ•°æ®å‘ç”Ÿæº¢å‡ºï¼Œè™šæ‹Ÿæœºä¸€æ ·ä¼šæŠ›å‡ºå¼‚å¸¸ "),s("code",[t._v("OutOfMemoryError:Metaspace")])]),t._v(" "),s("li",[s("code",[t._v("-XX:MetaspaceSize")]),t._v(" ï¼šè®¾ç½®åˆå§‹çš„å…ƒç©ºé—´å¤§å°ã€‚å¯¹äºä¸€ä¸ª 64 ä½çš„æœåŠ¡å™¨ç«¯ JVM æ¥è¯´ï¼Œå…¶é»˜è®¤çš„ "),s("code",[t._v("-XX:MetaspaceSize")]),t._v(" çš„å€¼ä¸º20.75MBï¼Œè¿™å°±æ˜¯åˆå§‹çš„é«˜æ°´ä½çº¿ï¼Œä¸€æ—¦è§¦åŠè¿™ä¸ªæ°´ä½çº¿ï¼ŒFull GC å°†ä¼šè¢«è§¦å‘å¹¶å¸è½½æ²¡ç”¨çš„ç±»ï¼ˆå³è¿™äº›ç±»å¯¹åº”çš„ç±»åŠ è½½å™¨ä¸å†å­˜æ´»ï¼‰ï¼Œç„¶åè¿™ä¸ªé«˜æ°´ä½çº¿å°†ä¼šé‡ç½®ï¼Œæ–°çš„é«˜æ°´ä½çº¿çš„å€¼å–å†³äº GC åé‡Šæ”¾äº†å¤šå°‘å…ƒç©ºé—´ã€‚å¦‚æœé‡Šæ”¾çš„ç©ºé—´ä¸è¶³ï¼Œé‚£ä¹ˆåœ¨ä¸è¶…è¿‡ "),s("code",[t._v("MaxMetaspaceSize")]),t._v("æ—¶ï¼Œé€‚å½“æé«˜è¯¥å€¼ã€‚å¦‚æœé‡Šæ”¾ç©ºé—´è¿‡å¤šï¼Œåˆ™é€‚å½“é™ä½è¯¥å€¼")]),t._v(" "),s("li",[t._v("å¦‚æœåˆå§‹åŒ–çš„é«˜æ°´ä½çº¿è®¾ç½®è¿‡ä½ï¼Œä¸Šè¿°é«˜æ°´ä½çº¿è°ƒæ•´æƒ…å†µä¼šå‘ç”Ÿå¾ˆå¤šæ¬¡ï¼Œé€šè¿‡åƒåœ¾å›æ”¶çš„æ—¥å¿—å¯è§‚å¯Ÿåˆ° Full GC å¤šæ¬¡è°ƒç”¨ã€‚ä¸ºäº†é¿å…é¢‘ç¹ GCï¼Œå»ºè®®å°† "),s("code",[t._v("-XX:MetaspaceSize")]),t._v(" è®¾ç½®ä¸ºä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„å€¼ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_5-3-æ–¹æ³•åŒºå†…éƒ¨ç»“æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-æ–¹æ³•åŒºå†…éƒ¨ç»“æ„"}},[t._v("#")]),t._v(" 5.3 æ–¹æ³•åŒºå†…éƒ¨ç»“æ„")]),t._v(" "),s("p",[s("mark",[t._v("æ–¹æ³•åŒºç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"ç±»å‹ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç±»å‹ä¿¡æ¯"}},[t._v("#")]),t._v(" ç±»å‹ä¿¡æ¯")]),t._v(" "),s("p",[t._v("å¯¹æ¯ä¸ªåŠ è½½çš„ç±»å‹ï¼ˆç±» classã€æ¥å£ interfaceã€æšä¸¾ enumã€æ³¨è§£ annotationï¼‰ï¼ŒJVM å¿…é¡»åœ¨æ–¹æ³•åŒºä¸­å­˜å‚¨ä»¥ä¸‹ç±»å‹ä¿¡æ¯")]),t._v(" "),s("ul",[s("li",[t._v("è¿™ä¸ªç±»å‹çš„å®Œæ•´æœ‰æ•ˆåç§°ï¼ˆå…¨å=åŒ…å.ç±»åï¼‰")]),t._v(" "),s("li",[t._v("è¿™ä¸ªç±»å‹ç›´æ¥çˆ¶ç±»çš„å®Œæ•´æœ‰æ•ˆåï¼ˆå¯¹äº interfaceæˆ–æ˜¯ java.lang.Objectï¼Œéƒ½æ²¡æœ‰çˆ¶ç±»ï¼‰")]),t._v(" "),s("li",[t._v("è¿™ä¸ªç±»å‹çš„ä¿®é¥°ç¬¦ï¼ˆpublicï¼Œabstractï¼Œfinal çš„æŸä¸ªå­é›†ï¼‰")]),t._v(" "),s("li",[t._v("è¿™ä¸ªç±»å‹ç›´æ¥æ¥å£çš„ä¸€ä¸ªæœ‰åºåˆ—è¡¨")])]),t._v(" "),s("h4",{attrs:{id:"åŸŸ-field-ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸŸ-field-ä¿¡æ¯"}},[t._v("#")]),t._v(" åŸŸï¼ˆFieldï¼‰ä¿¡æ¯")]),t._v(" "),s("ul",[s("li",[t._v("JVM å¿…é¡»åœ¨æ–¹æ³•åŒºä¸­ä¿å­˜ç±»å‹çš„æ‰€æœ‰åŸŸçš„ç›¸å…³ä¿¡æ¯ä»¥åŠåŸŸçš„å£°æ˜é¡ºåº")]),t._v(" "),s("li",[t._v("åŸŸçš„ç›¸å…³ä¿¡æ¯åŒ…æ‹¬ï¼šåŸŸåç§°ã€åŸŸç±»å‹ã€åŸŸä¿®é¥°ç¬¦ï¼ˆpublicã€privateã€protectedã€staticã€finalã€volatileã€transient çš„æŸä¸ªå­é›†ï¼‰")])]),t._v(" "),s("h4",{attrs:{id:"æ–¹æ³•-method-ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•-method-ä¿¡æ¯"}},[t._v("#")]),t._v(" æ–¹æ³•ï¼ˆMethodï¼‰ä¿¡æ¯")]),t._v(" "),s("p",[t._v("JVM å¿…é¡»ä¿å­˜æ‰€æœ‰æ–¹æ³•çš„")]),t._v(" "),s("ul",[s("li",[t._v("æ–¹æ³•åç§°")]),t._v(" "),s("li",[t._v("æ–¹æ³•çš„è¿”å›ç±»å‹")]),t._v(" "),s("li",[t._v("æ–¹æ³•å‚æ•°çš„æ•°é‡å’Œç±»å‹")]),t._v(" "),s("li",[t._v("æ–¹æ³•çš„ä¿®é¥°ç¬¦ï¼ˆpublicï¼Œprivateï¼Œprotectedï¼Œstaticï¼Œfinalï¼Œsynchronizedï¼Œnativeï¼Œabstract çš„ä¸€ä¸ªå­é›†ï¼‰")]),t._v(" "),s("li",[t._v("æ–¹æ³•çš„å­—ç¬¦ç ï¼ˆbytecodesï¼‰ã€æ“ä½œæ•°æ ˆã€å±€éƒ¨å˜é‡è¡¨åŠå¤§å°ï¼ˆabstract å’Œ native æ–¹æ³•é™¤å¤–ï¼‰")]),t._v(" "),s("li",[t._v("å¼‚å¸¸è¡¨ï¼ˆabstract å’Œ native æ–¹æ³•é™¤å¤–ï¼‰\n"),s("ul",[s("li",[t._v("æ¯ä¸ªå¼‚å¸¸å¤„ç†çš„å¼€å§‹ä½ç½®ã€ç»“æŸä½ç½®ã€ä»£ç å¤„ç†åœ¨ç¨‹åºè®¡æ•°å™¨ä¸­çš„åç§»åœ°å€ã€è¢«æ•è·çš„å¼‚å¸¸ç±»çš„å¸¸é‡æ± ç´¢å¼•")])])])]),t._v(" "),s("p",[s("strong",[t._v("æ ˆã€å †ã€æ–¹æ³•åŒºçš„äº¤äº’å…³ç³»")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29TRzlibbP9xYfmZna5XO8A4ePIf0Jibs0BIBkq1VTouIaMMl1icRRp8Ygg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("h3",{attrs:{id:"_5-4-è¿è¡Œæ—¶å¸¸é‡æ± "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-è¿è¡Œæ—¶å¸¸é‡æ± "}},[t._v("#")]),t._v(" 5.4 è¿è¡Œæ—¶å¸¸é‡æ± ")]),t._v(" "),s("p",[t._v("è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œç†è§£è¿è¡Œæ—¶å¸¸é‡æ± çš„è¯ï¼Œæˆ‘ä»¬å…ˆæ¥è¯´è¯´å­—èŠ‚ç æ–‡ä»¶ï¼ˆClass æ–‡ä»¶ï¼‰ä¸­çš„å¸¸é‡æ± ï¼ˆå¸¸é‡æ± è¡¨ï¼‰")]),t._v(" "),s("h4",{attrs:{id:"å¸¸é‡æ± "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸é‡æ± "}},[t._v("#")]),t._v(" å¸¸é‡æ± ")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæœ‰æ•ˆçš„å­—èŠ‚ç æ–‡ä»¶ä¸­é™¤äº†åŒ…å«ç±»çš„ç‰ˆæœ¬ä¿¡æ¯ã€å­—æ®µã€æ–¹æ³•ä»¥åŠæ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜åŒ…å«ä¸€é¡¹ä¿¡æ¯é‚£å°±æ˜¯å¸¸é‡æ± è¡¨ï¼ˆConstant Pool Tableï¼‰ï¼ŒåŒ…å«å„ç§å­—é¢é‡å’Œå¯¹ç±»å‹ã€åŸŸå’Œæ–¹æ³•çš„ç¬¦å·å¼•ç”¨ã€‚")]),t._v(" "),s("h5",{attrs:{id:"ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± "}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä¸€ä¸ª Java æºæ–‡ä»¶ä¸­çš„ç±»ã€æ¥å£ï¼Œç¼–è¯‘åäº§ç”Ÿä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ã€‚è€Œ Java ä¸­çš„å­—èŠ‚ç éœ€è¦æ•°æ®æ”¯æŒï¼Œé€šå¸¸è¿™ç§æ•°æ®ä¼šå¾ˆå¤§ä»¥è‡³äºä¸èƒ½ç›´æ¥å­˜åˆ°å­—èŠ‚ç é‡Œï¼Œæ¢å¦ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å­˜åˆ°å¸¸é‡æ± ï¼Œè¿™ä¸ªå­—èŠ‚ç åŒ…å«äº†æŒ‡å‘å¸¸é‡æ± çš„å¼•ç”¨ã€‚åœ¨åŠ¨æ€é“¾æ¥çš„æ—¶å€™ç”¨åˆ°çš„å°±æ˜¯è¿è¡Œæ—¶å¸¸é‡æ± ã€‚")]),t._v(" "),s("p",[t._v("å¦‚ä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡ jclasslib æŸ¥çœ‹ä¸€ä¸ªåªæœ‰ Main æ–¹æ³•çš„ç®€å•ç±»ï¼Œå­—èŠ‚ç ä¸­çš„ #2 æŒ‡å‘çš„å°±æ˜¯ Constant Pool")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29PYTCbU8LShia2TQcibe0xefQibWmCVtKicttXza4gLfdicibp0un6yhqUX2w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("p",[t._v("å¸¸é‡æ± å¯ä»¥çœ‹ä½œæ˜¯ä¸€å¼ è¡¨ï¼Œè™šæ‹ŸæœºæŒ‡ä»¤æ ¹æ®è¿™å¼ å¸¸é‡è¡¨æ‰¾åˆ°è¦æ‰§è¡Œçš„ç±»åã€æ–¹æ³•åã€å‚æ•°ç±»å‹ã€å­—é¢é‡ç­‰ç±»å‹ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è¿è¡Œæ—¶å¸¸é‡æ± "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ—¶å¸¸é‡æ± "}},[t._v("#")]),t._v(" è¿è¡Œæ—¶å¸¸é‡æ± ")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨åŠ è½½ç±»å’Œç»“æ„åˆ°è™šæ‹Ÿæœºåï¼Œå°±ä¼šåˆ›å»ºå¯¹åº”çš„è¿è¡Œæ—¶å¸¸é‡æ± ")]),t._v(" "),s("li",[t._v("å¸¸é‡æ± è¡¨ï¼ˆConstant Pool Tableï¼‰æ˜¯ Class æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œ"),s("strong",[t._v("è¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç±»åŠ è½½åå­˜æ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­")])]),t._v(" "),s("li",[t._v("JVM ä¸ºæ¯ä¸ªå·²åŠ è½½çš„ç±»å‹ï¼ˆç±»æˆ–æ¥å£ï¼‰éƒ½ç»´æŠ¤ä¸€ä¸ªå¸¸é‡æ± ã€‚æ± ä¸­çš„æ•°æ®é¡¹åƒæ•°ç»„é¡¹ä¸€æ ·ï¼Œæ˜¯é€šè¿‡ç´¢å¼•è®¿é—®çš„")]),t._v(" "),s("li",[t._v("è¿è¡Œæ—¶å¸¸é‡æ± ä¸­åŒ…å«å„ç§ä¸åŒçš„å¸¸é‡ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨å°±å·²ç»æ˜ç¡®çš„æ•°å€¼å­—é¢é‡ï¼Œä¹ŸåŒ…æ‹¬åˆ°è¿è¡ŒæœŸè§£æåæ‰èƒ½å¤Ÿè·å¾—çš„æ–¹æ³•æˆ–å­—æ®µå¼•ç”¨ã€‚æ­¤æ—¶ä¸å†æ˜¯å¸¸é‡æ± ä¸­çš„ç¬¦å·åœ°å€äº†ï¼Œè¿™é‡Œæ¢ä¸ºçœŸå®åœ°å€\n"),s("ul",[s("li",[t._v("è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œç›¸å¯¹äº Class æ–‡ä»¶å¸¸é‡æ± çš„å¦ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯ï¼š"),s("strong",[t._v("åŠ¨æ€æ€§")]),t._v("ï¼ŒJava è¯­è¨€å¹¶ä¸è¦æ±‚å¸¸é‡ä¸€å®šåªæœ‰ç¼–è¯‘æœŸé—´æ‰èƒ½äº§ç”Ÿï¼Œè¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­ï¼ŒString ç±»çš„ "),s("code",[t._v("intern()")]),t._v(" æ–¹æ³•å°±æ˜¯è¿™æ ·çš„")])])]),t._v(" "),s("li",[t._v("å½“åˆ›å»ºç±»æˆ–æ¥å£çš„è¿è¡Œæ—¶å¸¸é‡æ± æ—¶ï¼Œå¦‚æœæ„é€ è¿è¡Œæ—¶å¸¸é‡æ± æ‰€éœ€çš„å†…å­˜ç©ºé—´è¶…è¿‡äº†æ–¹æ³•åŒºæ‰€èƒ½æä¾›çš„æœ€å¤§å€¼ï¼Œåˆ™ JVM ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_5-5-æ–¹æ³•åŒºåœ¨-jdk6ã€7ã€8ä¸­çš„æ¼”è¿›ç»†èŠ‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-æ–¹æ³•åŒºåœ¨-jdk6ã€7ã€8ä¸­çš„æ¼”è¿›ç»†èŠ‚"}},[t._v("#")]),t._v(" 5.5 æ–¹æ³•åŒºåœ¨ JDK6ã€7ã€8ä¸­çš„æ¼”è¿›ç»†èŠ‚")]),t._v(" "),s("p",[t._v("åªæœ‰ HotSpot æ‰æœ‰æ°¸ä¹…ä»£çš„æ¦‚å¿µ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("jdk1.6åŠä¹‹å‰")]),t._v(" "),s("th",[t._v("æœ‰æ°¸ä¹…ä»£ï¼Œé™æ€å˜é‡å­˜æ”¾åœ¨æ°¸ä¹…ä»£ä¸Š")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("jdk1.7")]),t._v(" "),s("td",[t._v("æœ‰æ°¸ä¹…ä»£ï¼Œä½†å·²ç»é€æ­¥â€œå»æ°¸ä¹…ä»£â€ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ç§»é™¤ï¼Œä¿å­˜åœ¨å †ä¸­")])]),t._v(" "),s("tr",[s("td",[t._v("jdk1.8åŠä¹‹å")]),t._v(" "),s("td",[t._v("å–æ¶ˆæ°¸ä¹…ä»£ï¼Œç±»å‹ä¿¡æ¯ã€å­—æ®µã€æ–¹æ³•ã€å¸¸é‡ä¿å­˜åœ¨æœ¬åœ°å†…å­˜çš„å…ƒç©ºé—´ï¼Œä½†å­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ä»åœ¨å †ä¸­")])])])]),t._v(" "),s("h4",{attrs:{id:"ç§»é™¤æ°¸ä¹…ä»£åŸå› "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç§»é™¤æ°¸ä¹…ä»£åŸå› "}},[t._v("#")]),t._v(" ç§»é™¤æ°¸ä¹…ä»£åŸå› ")]),t._v(" "),s("p",[t._v("http://openjdk.java.net/jeps/122")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/Z0fxkgAKKLMAVEVNlW7gDqZIFzSvVq29TOfUbUic8p6tVfwicc2Xn3hIEKaaq2wBoPOzplTrrobZUcx1V9DKUiaUw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä¸ºæ°¸ä¹…ä»£è®¾ç½®ç©ºé—´å¤§å°æ˜¯å¾ˆéš¾ç¡®å®šçš„ã€‚")]),t._v(" "),s("p",[t._v("åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¦‚æœåŠ¨æ€åŠ è½½ç±»è¿‡å¤šï¼Œå®¹æ˜“äº§ç”Ÿ Perm åŒºçš„ OOMã€‚å¦‚æœæŸä¸ªå®é™… Web å·¥ç¨‹ä¸­ï¼Œå› ä¸ºåŠŸèƒ½ç‚¹æ¯”è¾ƒå¤šï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¦ä¸æ–­åŠ¨æ€åŠ è½½å¾ˆå¤šç±»ï¼Œç»å¸¸å‡ºç° OOMã€‚è€Œå…ƒç©ºé—´å’Œæ°¸ä¹…ä»£æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå…ƒç©ºé—´ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶")])]),t._v(" "),s("li",[s("p",[t._v("å¯¹æ°¸ä¹…ä»£è¿›è¡Œè°ƒä¼˜è¾ƒå›°éš¾")])])]),t._v(" "),s("h3",{attrs:{id:"_5-6-æ–¹æ³•åŒºçš„åƒåœ¾å›æ”¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-æ–¹æ³•åŒºçš„åƒåœ¾å›æ”¶"}},[t._v("#")]),t._v(" 5.6 æ–¹æ³•åŒºçš„åƒåœ¾å›æ”¶")]),t._v(" "),s("p",[t._v("æ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ä¸»è¦å›æ”¶ä¸¤éƒ¨åˆ†å†…å®¹ï¼š"),s("strong",[t._v("å¸¸é‡æ± ä¸­åºŸå¼ƒçš„å¸¸é‡å’Œä¸å†ä½¿ç”¨çš„ç±»å‹")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å…ˆæ¥è¯´è¯´æ–¹æ³•åŒºå†…å¸¸é‡æ± ä¹‹ä¸­ä¸»è¦å­˜æ”¾çš„ä¸¤å¤§ç±»å¸¸é‡ï¼šå­—é¢é‡å’Œç¬¦å·å¼•ç”¨ã€‚å­—é¢é‡æ¯”è¾ƒæ¥è¿‘ Java è¯­è¨€å±‚æ¬¡çš„å¸¸é‡æ¦‚å¿µï¼Œå¦‚æ–‡æœ¬å­—ç¬¦ä¸²ã€è¢«å£°æ˜ä¸º final çš„å¸¸é‡å€¼ç­‰ã€‚è€Œç¬¦å·å¼•ç”¨åˆ™å±äºç¼–è¯‘åŸç†æ–¹é¢çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ä¸‹é¢ä¸‰ç±»å¸¸é‡ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç±»å’Œæ¥å£çš„å…¨é™å®šå")]),t._v(" "),s("li",[t._v("å­—æ®µçš„åç§°å’Œæè¿°ç¬¦")]),t._v(" "),s("li",[t._v("æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦")])]),t._v(" "),s("p",[t._v("HotSpot è™šæ‹Ÿæœºå¯¹å¸¸é‡æ± çš„å›æ”¶ç­–ç•¥æ˜¯å¾ˆæ˜ç¡®çš„ï¼Œåªè¦å¸¸é‡æ± ä¸­çš„å¸¸é‡æ²¡æœ‰è¢«ä»»ä½•åœ°æ–¹å¼•ç”¨ï¼Œå°±å¯ä»¥è¢«å›æ”¶")]),t._v(" "),s("p",[t._v("åˆ¤å®šä¸€ä¸ªç±»å‹æ˜¯å¦å±äºâ€œä¸å†è¢«ä½¿ç”¨çš„ç±»â€ï¼Œéœ€è¦åŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ Java å †ä¸­ä¸å­˜åœ¨è¯¥ç±»åŠå…¶ä»»ä½•æ´¾ç”Ÿå­ç±»çš„å®ä¾‹")]),t._v(" "),s("li",[t._v("åŠ è½½è¯¥ç±»çš„ç±»åŠ è½½å™¨å·²ç»è¢«å›æ”¶ï¼Œè¿™ä¸ªæ¡ä»¶é™¤éæ˜¯ç»è¿‡ç²¾å¿ƒè®¾è®¡çš„å¯æ›¿æ¢ç±»åŠ è½½å™¨çš„åœºæ™¯ï¼Œå¦‚ OSGiã€JSP çš„é‡åŠ è½½ç­‰ï¼Œå¦åˆ™é€šå¸¸å¾ˆéš¾è¾¾æˆ")]),t._v(" "),s("li",[t._v("è¯¥ç±»å¯¹åº”çš„ java.lang.Class å¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•")])]),t._v(" "),s("p",[t._v("Java è™šæ‹Ÿæœºè¢«å…è®¸å †æ»¡è¶³ä¸Šè¿°ä¸‰ä¸ªæ¡ä»¶çš„æ— ç”¨ç±»è¿›è¡Œå›æ”¶ï¼Œè¿™é‡Œè¯´çš„ä»…ä»…æ˜¯â€œè¢«å…è®¸â€ï¼Œè€Œå¹¶ä¸æ˜¯å’Œå¯¹è±¡ä¸€æ ·ï¼Œä¸ä½¿ç”¨äº†å°±å¿…ç„¶ä¼šå›æ”¶ã€‚æ˜¯å¦å¯¹ç±»è¿›è¡Œå›æ”¶ï¼ŒHotSpot è™šæ‹Ÿæœºæä¾›äº† "),s("code",[t._v("-Xnoclassgc")]),t._v(" å‚æ•°è¿›è¡Œæ§åˆ¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ "),s("code",[t._v("-verbose:class")]),t._v(" ä»¥åŠ "),s("code",[t._v("-XX:+TraceClassLoading")]),t._v(" ã€"),s("code",[t._v("-XX:+TraceClassUnLoading")]),t._v(" æŸ¥çœ‹ç±»åŠ è½½å’Œå¸è½½ä¿¡æ¯ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å¤§é‡ä½¿ç”¨åå°„ã€åŠ¨æ€ä»£ç†ã€CGLib ç­‰ ByteCode æ¡†æ¶ã€åŠ¨æ€ç”Ÿæˆ JSP ä»¥åŠ OSGi è¿™ç±»é¢‘ç¹è‡ªå®šä¹‰ ClassLoader çš„åœºæ™¯éƒ½éœ€è¦è™šæ‹Ÿæœºå…·å¤‡ç±»å¸è½½çš„åŠŸèƒ½ï¼Œä»¥ä¿è¯æ°¸ä¹…ä»£ä¸ä¼šæº¢å‡ºã€‚")]),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒä¸æ„Ÿè°¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒä¸æ„Ÿè°¢"}},[t._v("#")]),t._v(" å‚è€ƒä¸æ„Ÿè°¢")]),t._v(" "),s("p",[t._v("ç®—æ˜¯ä¸€ç¯‡å­¦ä¹ ç¬”è®°ï¼Œå…±å‹‰ï¼Œä¸»è¦æ¥æºï¼š")]),t._v(" "),s("p",[t._v("ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº ç¬¬ä¸‰ç‰ˆã€‹")]),t._v(" "),s("p",[t._v("å®‹çº¢åº·è€å¸ˆçš„ JVM æ•™ç¨‹")]),t._v(" "),s("p",[t._v("https://docs.oracle.com/javase/specs/index.html")]),t._v(" "),s("p",[t._v("https://www.cnblogs.com/wicfhwffg/p/9382677.html")]),t._v(" "),s("p",[t._v("https://www.cnblogs.com/hollischuang/p/12501950.html")])])}),[],!1,null,null,null);a.default=_.exports}}]);